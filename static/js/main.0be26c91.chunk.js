(this.webpackJsonpposerjs=this.webpackJsonpposerjs||[]).push([[0],{102:function(e,t,a){e.exports={button:"SettingsButtons_button__2Xh6m"}},132:function(e,t,a){e.exports={chart:"EvalPlayersChart_chart__Gs8Wq"}},197:function(e,t,a){e.exports={cat:"Category_cat__1OQqw",err:"Category_err__3OT8i"}},29:function(e,t,a){e.exports={switch:"CheckboxGroup_switch__110xu",right:"CheckboxGroup_right__PtWaV"}},324:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h}));var n=a(10),r=a.n(n),c=a(23),s=a(4),l=a(6),i=a(100),o=a(325),u=a.n(o),h=function(){function t(e){Object(s.a)(this,t),this.secret=e}return Object(l.a)(t,[{key:"getToken",value:function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,s,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={user:{username:a}},c={algorithm:"HS256",expiresIn:"1h"},s=i.Base64.decode(this.secret),l=e.from(s,"utf8"),t.abrupt("return",new Promise((function(e,t){return u.a.sign(n,l,c,(function(a,n){a?t(a):e(n)}))})));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken("john");case 2:return a=e.sent,e.next=5,fetch(t,{method:"GET",headers:{Authorization:"Bearer "+a}});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())},{key:"HandCalc",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return c=t.server+"/v1/api/calc/"+a+"?calc="+n,e.next=5,this.fetch(c);case 5:if(200===(s=e.sent).status){e.next=8;break}throw new Error(s.statusText);case 8:return e.next=10,s.json();case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a,n,c,s){var l,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return l=t.server+"/v1/api/eval/"+c+"?calc="+s+"&nsims="+a.toString()+"&players="+n.toString()+"&threads="+t.threads.toString(),e.next=5,this.fetch(l);case 5:if(200===(i=e.sent).status){e.next=8;break}throw new Error(i.statusText);case 8:return e.next=10,i.json();case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a,n,c){var s,l,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return s=t.server+"/v1/api/eval/"+n+"?calc="+c+"&nsims="+a.toString()+"&threads="+t.threads.toString(),e.next=5,this.fetch(s);case 5:if(200===(l=e.sent).status){e.next=8;break}throw new Error(l.statusText);case 8:return e.next=10,l.json();case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),t}()}).call(this,a(27).Buffer)},333:function(e,t,a){e.exports={running:"InputButtons_running__1j8FV"}},334:function(e,t,a){e.exports={sticky:"HomePage_sticky__16BCT"}},368:function(e,t,a){e.exports=a(736)},389:function(e,t,a){},394:function(e,t){},396:function(e,t){},408:function(e,t){},410:function(e,t){},438:function(e,t){},440:function(e,t){},441:function(e,t){},447:function(e,t){},449:function(e,t){},467:function(e,t){},469:function(e,t){},481:function(e,t){},484:function(e,t){},501:function(e,t,a){"use strict";(function(e){a(10),a(23),a(4),a(6);if("undefined"!==typeof e);else{if("undefined"===typeof window)throw new Error("cannot export Go (neither global, window nor self is defined)");window.global=window}if(e.process&&"node"===e.process.title);else{var t="";e.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync:function(e,a){var r=(t+=n.decode(a)).lastIndexOf("\n");return-1!==r&&(console.log(t.substr(0,r)),t=t.substr(r+1)),a.length},write:function(e,t,a,n,r,c){if(0!==a||n!==t.length||null!==r)throw new Error("not implemented");c(null,this.writeSync(e,t))},open:function(e,t,a,n){var r=new Error("not implemented");r.code="ENOSYS",n(r)},read:function(e,t,a,n,r,c){var s=new Error("not implemented");s.code="ENOSYS",c(s)},fsync:function(e,t){t(null)}}}var n;e.fs}).call(this,a(30))},677:function(e,t,a){},732:function(e,t,a){},734:function(e,t,a){},735:function(e,t,a){},736:function(e,t,a){"use strict";a.r(t);var n,r,c,s,l=a(1),i=a.n(l),o=a(18),u=a.n(o),h=a(36),d=a(129),m=a(323),b=a(22),p={apiType:{type:"value",persistent:!0,initValue:"wasm"},apiServer:{type:"value",persistent:!0,initValue:"http://localhost:7272"},jwtSecret:{type:"value",persistent:!0,initValue:""},calcType:{type:"value",persistent:!0,initValue:"basic"},nSims:{type:"value",persistent:!0,initValue:1e4},workers:{type:"value",persistent:!0,initValue:1},threads:{type:"value",persistent:!0,initValue:1},players:{type:"value",persistent:!0,initValue:9},catsChart:{type:"value",persistent:!0,initValue:!1},catsTable:{type:"value",persistent:!0,initValue:!0},playersChart:{type:"value",persistent:!0,initValue:!1},playersTable:{type:"value",persistent:!0,initValue:!0},combosTable:{type:"value",persistent:!0,initValue:!0},denseKeyboard:{type:"value",persistent:!0,initValue:!0},playersButtons:{type:"value",persistent:!0,initValue:!1},devMode:{type:"value",persistent:!0,initValue:!1},latency:{type:"value",persistent:!0,initValue:!0}},f=a(19),v=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],g=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],E=["c","d","h","s","x"],y=["black","red","red","black","grey"],k=["\ud83c\udcd2","\ud83c\udcd3","\ud83c\udcd4","\ud83c\udcd5","\ud83c\udcd6","\ud83c\udcd7","\ud83c\udcd8","\ud83c\udcd9","\ud83c\udcda","\ud83c\udcdb","\ud83c\udcdd","\ud83c\udcde","\ud83c\udcd1","\ud83c\udcc2","\ud83c\udcc3","\ud83c\udcc4","\ud83c\udcc5","\ud83c\udcc6","\ud83c\udcc7","\ud83c\udcc8","\ud83c\udcc9","\ud83c\udcca","\ud83c\udccb","\ud83c\udccd","\ud83c\udcce","\ud83c\udcc1","\ud83c\udcb2","\ud83c\udcb3","\ud83c\udcb4","\ud83c\udcb5","\ud83c\udcb6","\ud83c\udcb7","\ud83c\udcb8","\ud83c\udcb9","\ud83c\udcba","\ud83c\udcbb","\ud83c\udcbd","\ud83c\udcbe","\ud83c\udcb1","\ud83c\udca2","\ud83c\udca3","\ud83c\udca4","\ud83c\udca5","\ud83c\udca6","\ud83c\udca7","\ud83c\udca8","\ud83c\udca9","\ud83c\udcaa","\ud83c\udcab","\ud83c\udcad","\ud83c\udcae","\ud83c\udca1"],w=["\u24ff","\u2776","\u2777","\u2778","\u2779","\u277a","\u277b","\u277c","\u277d","\u277e","\u277f"],O=function(e){var t;switch(e){case-19:t="??";break;case-18:t="?c";break;case-17:t="?d";break;case-16:t="?h";break;case-15:t="?s";break;case-1:t="__";break;case 65:t="Xc";break;case 66:t="Xd";break;case 67:t="Xh";break;case 68:t="Xs";break;case 69:t="2p";break;case 70:t="3p";break;case 71:t="4p";break;case 72:t="5p";break;case 73:t="6p";break;case 74:t="7p";break;case 75:t="8p";break;case 76:t="9p"}if(!t)if(-14<=e&&e<-1)t=v[e- -14]+"?";else if(e<0||e>=65)t="??";else{var a=e%13,n=Math.floor(e/13);t=v[a]+E[n]}return t},j=function(e){if(2!==e.length)return-1;var t,a,n=e.charAt(0),r=e.charAt(1);switch(n){case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t=n-"2";break;case"t":case"T":t=8;break;case"j":case"J":t=9;break;case"q":case"Q":t=10;break;case"k":case"K":t=11;break;case"a":case"A":t=12;break;case"_":case"*":case"x":case"X":t=-2;break;default:t=-1}switch(r){case"c":case"C":a=0;break;case"d":case"D":a=1;break;case"h":case"H":a=2;break;case"s":case"S":a=3;break;case"_":case"*":case"x":case"X":a=4;break;case"p":case"P":a=-2;break;default:a=-1}return t>=0&&a>=0?13*a+t:-2===a?0<=t&&t<=7?69+t:-19:t<0&&0<=a&&a<4?-2===t?65+a:-18+a:-2===t&&4===a?-1:t>=0&&a<0?-14+t:-19},C=function(e,t){var a=[];for(e=e.trim().toLowerCase();e.length>0;){1===e.length&&(e+="_");var n=j(e.substr(0,2));a.push(n),e=(e=e.substring(2)).trim()}for(;a.length<t;)a.push(-1);return Object(b.List)(a)},S=function(e){for(var t=!1,a=0,n=0;n<e.size;n++){var r=e.get(n);if(0<=r&&r<52){if(a++,t)return!1}else if(69<=r&&r<=76);else{if(-1!==r)return!1;t=!0}}return a>0},x={settings:{type:"schema",schema:p},tanking:{type:"value",persistent:!1,initValue:!1},tankingMs:{type:"value",persistent:!1,initValue:0},hand:{type:"value",persistent:!0,initValue:"______________"},handEval:{type:"value",persistent:!1,initValue:Object(b.Map)()},handEvalPlayers:{type:"value",persistent:!1,initValue:Object(b.Map)()},handResult:{type:"value",persistent:!1,initValue:Object(b.Map)()},handCombos:{type:"value",persistent:!1,initValue:Object(b.Map)()},handArr:{type:"formula",props:["hand"],recipe:function(e){return Object(b.List)(C(e.hand,7))}},handValid:{type:"formula",props:["handArr"],recipe:function(e){return S(e.handArr)}},handCardsCnt:{type:"formula",props:["handArr"],recipe:function(e){return function(e){for(var t=0,a=0;a<e.size;a++){var n=e.get(a);0<=n&&n<52&&t++}return t}(e.handArr)}},err:{type:"value",persistent:!1,initValue:""},currentSuit:{type:"value",persistent:!0,initValue:"s"}},A={args:{type:"value",persistent:!1,initValue:Object(b.fromJS)(function(e){e||(e=location.search);var t=e.substr(1),a={};return t&&t.split("&").forEach((function(e){var t=e.split("=");a[t[0]]=decodeURIComponent(t[1])})),a}())},selectedTabIndex:{type:"value",persistent:!0,initValue:0},home:{type:"schema",schema:x}},T=["home","settings","credits","debug"],N=function(e,t,a){var n=W().get("args"),r=n.get("tab");if("true"===n.get("reset"))return window.confirm("This will clear all PoserJS saved data. Are you sure?")&&(H(B.init(a)),V()),void window.history.replaceState({},document.title,"/");try{if(r)for(var c=0;c<T.length;c++)r===T[c]&&H(B.value("selectedTabIndex",c));V()}catch(s){console.log("INIT ERROR:",s)}};setInterval((function(){try{if(n===c&&r===s)return;var e=P.liveState(s),t=P.persistableState(e),a=JSON.stringify(t);localStorage.setItem(c,a),n=c,r=s}catch(l){console.log("DUXEN ERROR: persistState: ",l)}}),1e3);var _,R=a(64),F=function(e){return e&&"object"===typeof e&&!Array.isArray(e)},M=function e(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];if(!n.length)return t;var c=n.shift();if(F(t)&&F(c))for(var s in c)F(c[s])?(t[s]||Object.assign(t,Object(R.a)({},s,{})),e(t[s],c[s])):Object.assign(t,Object(R.a)({},s,c[s]));return e.apply(void 0,[t].concat(n))},P=Object(m.createEngine)(A),B=P.actionFactory(),I=function(e){var t=e.repoReducer(),a=Object(d.b)(t);_=e.head(a.getState());var n=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){return}}("poserjs:0.0.2");if(n){var r=M(_.toJS(),n);a.dispatch(e.actionFactory().init(r))}return a.dispatch(e.actionFactory().refresh()),a}(P),H=function(e){return I.dispatch(e)},W=function(){return P.head(I.getState())},V=function(){return I.subscribe((function(){return function(e,t){c=e,s=t}("poserjs:0.0.2",I.getState())}))};N(P,I,_);a(389);var L=a(4),q=a(6),J=a(15),K=a(14),D=a(9);function z(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}var X=a(86),U=a.n(X),G=z(),Q=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).code0="",n.comp0=null,n}return Object(q.a)(a,[{key:"render0",value:function(){var e=this.props,t=Object(D.a)({},e.style)||{},a=e.html,n=e.vertical,r=e.ball,c=!1,s=e.card||e.children,l=void 0!==e.code?e.code:j(s);e.handArr&&(function(e){return 0<=e&&e<52}(l)||function(e){return 69<=e&&e<=76}(l))&&e.handArr.includes(l)&&(c=!0),s=O(l);var o=a?function(e,t){var a;switch(e){case-19:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"?");break;case-18:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2663");break;case-17:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2666");break;case-16:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2665");break;case-15:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2660");break;case-1:a=i.a.createElement(i.a.Fragment,null,"_",t?i.a.createElement("br",null):null,"_");break;case 65:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2663");break;case 66:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2666");break;case 67:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2665");break;case 68:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2660");break;case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:a=i.a.createElement(i.a.Fragment,null,t?String.fromCharCode("2".charCodeAt(0)+(e-69)):null,t?i.a.createElement("br",null):null,t?i.a.createElement(f.a,{icon:"user"}):w[2+e-69])}if(a);else if(0<=e&&e<65){var n=e%13;switch(Math.floor(e/13)){case 0:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2663");break;case 1:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2666");break;case 2:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2665");break;case 3:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2660");break;case 4:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"x")}}else if(-14<=e&&e<-1){var r=e- -14;a=i.a.createElement(i.a.Fragment,null,g[r],t?i.a.createElement("br",null):null,"?")}else a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"?");return a}(l,n):function(e){return e<0||e>=k[e]?"\ud83c\udca0":k[e]}(l);t.color=c?"gainsboro":function(e){var t;if(e<0||e>=77)t="grey";else if(e<65){var a=Math.floor(e/13);t=y[a]}else if(65<=e&&e<=68){t=y[e-65]}else 69<=e&&e<=76?t="blue":e<77&&(t="grey");return t}(l);var u=r?a?U.a.htmlBall:U.a.ball:a?G?U.a.htmlSquareMobile:U.a.htmlSquare:U.a.square;return e.click?i.a.createElement("button",{className:u,name:s,title:s,alt:s,onClick:e.click.bind(this,s),style:t},o):i.a.createElement("span",{className:u,name:s,title:s,alt:s,style:t},o)}},{key:"render",value:function(){var e=this.props,t=e.card||e.children,a=void 0!==e.code?e.code:j(t),n=e.handArr;return this.comp0&&this.code0===a&&this.handArr0===n||(this.code0=a,this.handArr0=n,this.comp0=this.render0()),this.comp0}}]),a}(l.Component),Y={fontSize:20,color:"white",padding:"0px"},Z=function(e){return i.a.createElement("div",{style:Y},"Poser \xa0",i.a.createElement(Q,{style:Object(D.a)(Object(D.a)({},Y),{},{background:"white",margin:0,fontSize:18,height:24}),html:!0},"7d"),i.a.createElement(Q,{style:Object(D.a)(Object(D.a)({},Y),{},{background:"white",margin:0,fontSize:18,height:24}),html:!0},"2h"))},$=a(38),ee=a(10),te=a.n(ee),ae=a(23),ne=function(e,t,a,n){return e.slice(0,t)+n+e.slice(t+Math.abs(a))},re=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],ce=["c","d","h","s"];function se(e,t){return 0<=e&&e<13&&0<=t&&t<4?e<<2|t:2<=e&&e<9&&13===t?e-2+69:14===e?59:63}function le(e){var t,a,n=e.substr(0,1),r=e.substr(1,1);switch(n){case"2":t=0;break;case"3":t=1;break;case"4":t=2;break;case"5":t=3;break;case"6":t=4;break;case"7":t=5;break;case"8":t=6;break;case"9":t=7;break;case"t":case"T":t=8;break;case"j":case"J":t=9;break;case"q":case"Q":t=10;break;case"k":case"K":t=11;break;case"a":case"A":t=12;break;case"*":case"_":t=14;break;case"?":default:t=15}switch(r){case"c":case"C":a=0;break;case"d":case"D":a=1;break;case"h":case"H":a=2;break;case"s":case"S":a=3;break;case"p":case"P":a=13;break;case"*":case"_":a=14;break;case"?":default:a=15}return se(t,a)}function ie(e){return function(e){return re[e>>2]}(e)+function(e){return ce[3&e]}(e)}function oe(e){return re[e]}var ue=268435455,he=0,de={ranks:268435455,suits:16383};function me(){return{ranks:ue,suits:he}}var be=[-16,-241,-3841,-61441,-983041,-15728641,-251658241],pe=[-4,-13,-49,-193,-769,-3073,-12289];function fe(e){if(!e||e.length<14)return[de,"not enough cards"];for(var t=me(),a=0,n=0,r=0,c=0;c<e.length/2;c++){var s=c<<1,l=e.substr(s,2),i=le(l);if(63===i)return[de,"bad card: "+l];if(!(69<=i&&i<=76)){if(59===i);else if(i>=32){var o=1<<i-32;if(0!==(n&o))return[de,"duplicate card: "+l];n|=o}else{var u=1<<i;if(0!==(a&u))return[de,"duplicate card: "+l];a|=u}t=ve(t,r,i),r++}}return[t,""]}function ve(e,t,a){return e.ranks=e.ranks&be[t]|function(e){return e>>2}(a)<<(t<<2),e.suits=e.suits&pe[t]|function(e){return 3&e}(a)<<(t<<1),e}function ge(e,t){return e.ranks>>(t<<2)&15}function Ee(e,t){return e.suits>>(t<<1)&3}function ye(e,t){return se(ge(e,t),Ee(e,t))}function ke(e){var t=ye(e,0),a=ye(e,1);return ie(t)+ie(a)}var we=[-16,-241,-3841,-61441,-983041],Oe=["1","2","2+2","3","S","F","3+2","4","SF"],je=["High","1 Pair","2 Pair","Set","Straight","Flush","Boat","Quads","StrFl"];function Ce(e,t){return e&-16<<20|t<<20}function Se(e){return e>>20&15}function xe(e){return je[e]}function Ae(e){return Oe[e]}function Te(e){return xe(Se(e))}function Ne(e){return Ae(Se(e))}function _e(e,t,a){return e&we[t]|a<<(t<<2)}function Re(e,t){return e>>(t<<2)&15}function Fe(e){return oe(Re(e,4))+oe(Re(e,3))+oe(Re(e,2))+oe(Re(e,1))+oe(Re(e,0))}var Me=new Array(65536);function Pe(e){for(var t=-1;e>0;)t++,e>>=1;return t}function Be(e){return Me[e]}!function(){for(var e=0;e<65536;e++)Me[e]=Pe(e)}();var Ie=function(){function e(){Object(L.a)(this,e),this.rankCnts=new Array(13),this.suitCnts=new Array(4),this.suitMasks=new Array(4)}return Object(q.a)(e,[{key:"CalcHandRank",value:function(e){return this.calcHandRank(e,7)}},{key:"reset",value:function(){for(var e=0;e<this.rankCnts.length;e++)this.rankCnts[e]=0;for(var t=0;t<this.suitCnts.length;t++)this.suitCnts[t]=0;for(var a=0;a<this.suitMasks.length;a++)this.suitMasks[a]=0}},{key:"calcHandRank",value:function(e,t){this.reset();for(var a=1048575,n=0;n<t;n++){var r=ge(e,n),c=Ee(e,n);r<13&&(this.rankCnts[r]++,this.suitCnts[c]++,this.suitMasks[c]|=1<<r)}for(var s=0,l=0,i=0,o=0,u=0,h=0,d=0;d<13;d++){var m=this.rankCnts[d];0===m||(1===m?s|=1<<d:2===m?(l|=1<<d,u++):3===m?(i|=1<<d,h++):4===m&&(o|=1<<d))}for(var b,p=0,f=0;f<4;f++)if(this.suitCnts[f]>=5){p=this.suitMasks[f];break}0!==(8192&(b=0!==p?p<<1:(s|l|i)<<1))&&(b|=1);for(var v=0;b>=31;){var g=Be(b);if(31===(31&b>>g-4)){v=g-1;break}b&=~(1<<g)}if(0!==v&&0!==p)a=_e(a=Ce(a,8),4,v),a=_e(a,3,--v),a=_e(a,2,--v),a=_e(a,1,--v),0===v?v=12:v--,a=_e(a,0,v);else if(0!==o){a=Ce(a,7);var E=Be(o);a=_e(a,4,E),a=_e(a,3,E),a=_e(a,2,E),a=_e(a,1,E),a=_e(a,0,Be(i|l|s))}else if(2===h){a=Ce(a,6);var y=Be(i);a=_e(a,4,y),a=_e(a,3,y),a=_e(a,2,y);var k=Be(i&=~(1<<y));a=_e(a,1,k),a=_e(a,0,k)}else if(1===h&&u>0){a=Ce(a,6);var w=Be(i);a=_e(a,4,w),a=_e(a,3,w),a=_e(a,2,w);var O=Be(l);a=_e(a,1,O),a=_e(a,0,O)}else if(0!==p){a=Ce(a,5);var j=Be(p);a=_e(a,4,j),a=_e(a,3,j=Be(p&=~(1<<j))),a=_e(a,2,j=Be(p&=~(1<<j))),a=_e(a,1,j=Be(p&=~(1<<j))),a=_e(a,0,j=Be(p&=~(1<<j)))}else if(0!==v)a=_e(a=Ce(a,4),4,v),a=_e(a,3,--v),a=_e(a,2,--v),a=_e(a,1,--v),0===v?v=12:v--,a=_e(a,0,v);else if(0!==i){a=Ce(a,3);var C=Be(i);a=_e(a,4,C),a=_e(a,3,C),a=_e(a,2,C);var S=Be(s);a=_e(a,1,S),a=_e(a,0,S=Be(s&=~(1<<S)))}else if(u>1){a=Ce(a,2);var x=Be(l);a=_e(a,4,x),a=_e(a,3,x),a=_e(a,2,x=Be(l&=~(1<<x))),a=_e(a,1,x),a=_e(a,0,Be(s|(l&=~(1<<x))))}else if(u>0){a=Ce(a,1);var A=Be(l);a=_e(a,4,A),a=_e(a,3,A);var T=Be(s);a=_e(a,2,T),a=_e(a,1,T=Be(s&=~(1<<T))),a=_e(a,0,T=Be(s&=~(1<<T)))}else{a=Ce(a,0);var N=Be(s);a=_e(a,4,N),a=_e(a,3,N=Be(s&=~(1<<N))),a=_e(a,2,N=Be(s&=~(1<<N))),a=_e(a,1,N=Be(s&=~(1<<N))),a=_e(a,0,N=Be(s&=~(1<<N)))}return a}}]),e}();function He(e){if(e===de)return[[],0,0,0];var t=new Ie,a=t.CalcHandRank(e),n=0,r=0,c=0,s=Object(b.SortedMap)(),l={hole:ke(e),handRank:a,cat:Ne(a),category:Te(a),result:Fe(a),count:0};s=s.set(a,l);for(var i=0,o=0,u=0;u<7;u++){var h=ye(e,u);h<32?i|=1<<h:o|=1<<h-32}for(var d=e,m=1;m<52;m++){if(m<32){if(0!==(i&1<<m))continue}else if(0!==(o&1<<m-32))continue;for(var p=0;p<m;p++){if(p<32){if(0!==(i&1<<p))continue}else if(0!==(o&1<<p-32))continue;var f=p;d=ve(d,0,m),d=ve(d,1,f);var v=t.CalcHandRank(d),g=s.get(v);g?g.count++:(g={hole:ke(d),handRank:v,cat:Ne(v),category:Te(v),result:Fe(v),count:1},s=s.set(v,g)),v>a?n++:v===a?r++:c++}}return[s.toIndexedSeq().reverse().toArray(),n,r,c]}var We=function(){function e(){Object(L.a)(this,e);var t=Date.now(),a=t+Math.floor(1e9*Math.random()),n=13*a+t+Math.floor(1e9*Math.random()),r=17*n+t+Math.floor(1e9*Math.random()),c=31*r+t+Math.floor(1e9*Math.random());this.seed(a,n,r,c)}return Object(q.a)(e,[{key:"seed",value:function(e,t,a,n){this.a=e,this.b=t,this.c=a,this.d=n}},{key:"next",value:function(){this.a>>>=0,this.b>>>=0,this.c>>>=0,this.d>>>=0;var e=this.a+this.b|0;return this.a=this.b^this.b>>>9,this.b=this.c+(this.c<<3)|0,this.c=this.c<<21|this.c>>>11,this.d=this.d+1|0,e=e+this.d|0,this.c=this.c+e|0,e>>>0}}]),e}(),Ve=function(){function e(){Object(L.a)(this,e),this.mask0=0,this.mask1=0,this.rng=new We}return Object(q.a)(e,[{key:"mix",value:function(){this.mask0=0,this.mask1=0}},{key:"removeCard",value:function(e){this.setMask(e)}},{key:"setMask",value:function(e){59!==e&&(e<32?this.mask0|=1<<e:this.mask1|=1<<e-32)}},{key:"getMask",value:function(e){return e<32?this.mask0&1<<e:this.mask1&1<<e-32}},{key:"getNextCard",value:function(){for(;this.rng;){var e=63&this.rng.next();if(e<52&&0===this.getMask(e))return this.setMask(e),e}return 61}}]),e}();function Le(e,t){return{nsims:e,players:t,card1:59,card2:59,board1:59,board2:59,board3:59,board4:59,board5:59}}function qe(e,t){return{request:e,err:t,finalPlayers:0,games:0,wins:0,ties:0,pties:0,losses:0,wp:0,wo:0,er:0}}function Je(e,t){var a=fe(t),n=a[0],r=a[1];return r||(e.card1=ye(n,0),e.card2=ye(n,1),e.board1=ye(n,2),e.board2=ye(n,3),e.board3=ye(n,4),e.board4=ye(n,5),e.board5=ye(n,6),"")}var Ke=function(){function e(){Object(L.a)(this,e)}return Object(q.a)(e,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"eval",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n){var r,c,s,l,i,o,u,h,d,m,b,p,f,v,g,E,y,k,w,O,j;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=me(),c=0,s=0,l=0,i=0,o=new Ve,u=a.nsims,2<=(h=a.players)&&h<=9){e.next=11;break}return n.err="invalid number of players",e.abrupt("return");case 11:return e.next=13,this.sleep(0);case 13:d=0;case 14:if(!(d<u)){e.next=48;break}if(0!==(131071&d)){e.next=18;break}return e.next=18,this.sleep(0);case 18:for(o.mix(),o.removeCard(a.card1),o.removeCard(a.card2),o.removeCard(a.board1),o.removeCard(a.board2),o.removeCard(a.board3),o.removeCard(a.board4),o.removeCard(a.board5),m=59===a.card1?o.getNextCard():a.card1,b=59===a.card2?o.getNextCard():a.card2,p=59===a.board1?o.getNextCard():a.board1,f=59===a.board2?o.getNextCard():a.board2,v=59===a.board3?o.getNextCard():a.board3,g=59===a.board4?o.getNextCard():a.board4,E=59===a.board5?o.getNextCard():a.board5,r=ve(r,2,p),r=ve(r,3,f),r=ve(r,4,v),r=ve(r,5,g),r=ve(r,6,E),r=ve(r,0,m),r=ve(r,1,b),y=t.CalcHandRank(r),k=y,w=0,O=1;O<h;O++)r=ve(r,0,o.getNextCard()),r=ve(r,1,o.getNextCard()),(j=t.CalcHandRank(r))>k?(k=j,w=0):j===k&&w++;y===k?w>0?(s++,l+=1/(w+1)):c++:i++;case 45:d++,e.next=14;break;case 48:n.request=a,n.games=a.nsims,n.wins=c,n.ties=s,n.pties=l,n.losses=i;case 54:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),De=function(){function e(){Object(L.a)(this,e)}return Object(q.a)(e,[{key:"CalcHandRank",value:function(e){return function(e){for(var t=new Array(7),a=0;a<7;a++)t[a]=ye(e,a);var n=function(e){var t,a,n,r,c,s,l=!1,i=!1,o=e.length>=5?5:e.length,u=new Array(6),h=new Array(13),d=new Array(6),m=new Array(6),b=0,p=new Array(4),f=0;for(t=0;t<13;t++)h[t]=0;for(t=0;t<4;t++)p[t]=0;for(t=0;t<=5;t++)u[t]=0;for(t=0;t<e.length;t++)n=Ue(e[t]),r=Ge(e[t]),h[n]++,u[h[n]]++,0!==h[n]&&u[h[n]-1]--,++p[r]>=5&&(i=!0,f=r);c=0!==h[12]?1:0;for(var v=0;v<6;v++)d[v]=13,m[v]=13;for(t=0;t<13;t++)0!==h[t]?++c>=5&&(l=!0,b=t):c=0,0!==(a=h[t])&&(m[a]=d[a],d[a]=t);var g=new Array(1);g[0]=b,0!==u[5]?(s=3341637,s+=d[5]):l&&i&&function(e,t,a){var n,r,c,s=new Array(13);for(n=0;n<13;n++)s[n]=!1;for(n=0;n<e.length;n++)Ge(e[n])===a&&(s[Ue(e[n])]=!0);for(r=s[12]?1:0,c=0,n=0;n<13;n++)s[n]?++r>=5&&(c=n):r=0;return 0!==c&&(t[0]=c,!0)}(e,g,f)?(b=g[0],s=2970344,s+=b):0!==u[4]?(s=2599051,s+=13*d[4],m[4]=13,s+=ze(h,1,d[4],m[4])):u[3]>=2?(s=2227758,s+=13*d[3],s+=m[3]):1===u[3]&&0!==u[2]?(s=2227758,s+=13*d[3],s+=d[2]):i?(s=1856465,s+=function(e,t,a){var n,r=0,c=new Array(13);for(n=0;n<13;n++)c[n]=!1;for(n=0;n<e.length;n++)Ge(e[n])===a&&(c[Ue(e[n])]=!0);n=12;for(;0!==t;){for(;!1===c[n];)n--;t--,r+=Xe(13,t)*n,n--}return r}(e,5,f)):l?(s=1485172,s+=b):1===u[3]?(s=1113879,s+=13*d[3]*13,s+=ze(h,o-3,d[3],m[3])):u[2]>=2?(s=742586,s+=13*d[2]*13,s+=13*m[2],s+=ze(h,o-4,d[2],m[2])):1===u[2]?(s=371293,s+=13*d[2]*13*13,s+=ze(h,o-2,d[2],m[2])):(s=0,s+=ze(h,o,d[2],m[2]));return s}(t),r=Math.floor(n/371293),c=(n%=371293)%13,s=(n=Math.floor(n/13))%13,l=(n=Math.floor(n/13))%13,i=(n=Math.floor(n/13))%13,o=(n=Math.floor(n/13))%13;n=Math.floor(n/13),6===r?(o=i=l=s,s=c):1===r?o=i:3===r?o=i=l:7===r?o=i=l=s:2===r?(o=i=l,l=s):(4===r||8===r)&&(c=0===(s=(l=(i=(o=c)-1)-1)-1)?12:s-1);var u=1048575;return u=_e(u=Ce(u,r),0,c),u=_e(u,1,s),u=_e(u,2,l),u=_e(u,3,i),u=_e(u,4,o)}(e)}}]),e}();function ze(e,t,a,n){for(var r=12,c=0;0!==t;){for(;0===e[r]||r===a||r===n;)r--;c+=Xe(13,--t)*r,r--}return c}function Xe(e,t){for(var a=1;t-- >0;)a*=e;return a}function Ue(e){return Math.floor(e/4)}function Ge(e){return e%4}var Qe=function(){function e(){Object(L.a)(this,e),this.handEvaluator=new Ke}return Object(q.a)(e,[{key:"MakeHandCalculator",value:function(e){var t;switch(e){case"basic":t=new Ie;break;case"fast":throw new Error("calculator type not supported in web browser: "+e);case"loki":t=new De;break;default:throw new Error("invalid calculator type: "+e)}return t}},{key:"HandCalc",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n){var r,c,s,l,i,o,u,h,d,m,b,p,f,v,g,E,y;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fe(a),c=r[0],s=r[1],l="",i=16777215,o="",u="",h="",d="",s?l=s:(m=this.MakeHandCalculator(n),i=m.CalcHandRank(c),u=Ne(i),h=Te(i),d=Fe(i),o=ke(c)),b=c!==de,p=He(c),f=p[0],v=p[1],g=p[2],E=p[3],y={type:"handCalc",err:s,handStr:a,hand:c,handValid:b,handErr:l,handRank:i,hole:o,handCat:u,handCategory:h,handResult:d,handCombos:f,betterCombos:v,equalCombos:g,worseCombos:E},e.abrupt("return",y);case 18:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r,c){var s,l,i,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.MakeHandCalculator(c),l=Le(a,n),i=Je(l,r),o=qe(l,i),i){e.next=7;break}return e.next=7,this.handEvaluator.eval(s,l,o);case 7:return e.abrupt("return",at(o));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r){var c,s,l,i,o,u,h;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=this.MakeHandCalculator(r),s=[],l="",i=2;case 4:if(!(i<=9)){e.next=19;break}if(o=Le(a,i),!(l=Je(o,n))){e.next=9;break}return e.abrupt("break",19);case 9:return u=qe(o,l),e.next=12,this.handEvaluator.eval(c,o,u);case 12:if(s.push(at(u)),!u.err){e.next=16;break}return l=u.err,e.abrupt("break",19);case 16:i++,e.next=4;break;case 19:return h={type:"handEvalPlayers",err:l,handEvals:s},e.abrupt("return",h);case 21:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}(),Ye=a(324),Ze=a(341),$e=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.call(this,"wasm/wasm_worker.js")}return a}(function(){function e(t){Object(L.a)(this,e),this.workerScriptUrl=t,this.id=0,this.promises={}}return Object(q.a)(e,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"checkCalcType",value:function(e){switch(e){case"basic":case"loki":break;case"fast":throw new Error("Calculator not supported in web browser: "+e);default:throw new Error("Unknown calculator type: "+e)}}},{key:"_setup",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t=this;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.worker){e.next=5;break}return e.next=3,this.sleep(0);case 3:e.next=7;break;case 5:this.worker=new Worker(this.workerScriptUrl),this.worker.onmessage=function(e){var a=e.data,n=a.id,r=t.promises[n];delete t.promises[n],r(a.result)};case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(e,t,a){var n=this;return new Promise((function(r){if(n.worker){n.promises[n.id]=r;var c={api:e,id:n.id,apiOptions:t,args:Object(Ze.a)(a)};n.worker.postMessage(c),n.id++}}))}},{key:"HandCalc",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.checkCalcType(n),e.next=4,this._setup();case 4:return e.next=6,this.post("HandCalc",t,[a,n]);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",tt(e.t0.toString()));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r,c){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.checkCalcType(c),e.next=4,this._setup();case 4:return e.next=6,this.post("HandEval",t,[a,n,r,c]);case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",tt(e.t0.toString()));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r){var c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.checkCalcType(r),e.next=4,this._setup();case 4:return e.next=6,this.post("HandEvalPlayers",t,[a,n,r]);case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",tt(e.t0.toString()));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}()),et=function(){function e(t){Object(L.a)(this,e),this.jsApi=new Qe,this.restApi=new Ye.a(t),this.wasmApi=new $e}return Object(q.a)(e,[{key:"getApiInterface",value:function(e){var t;switch(e.apiType){case"js":t=this.jsApi;break;case"wasm":t=this.wasmApi;break;case"rest":t=this.restApi;break;default:throw new Error("invalid apiType: "+e.apiType)}return t}},{key:"HandCalc",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.getApiInterface(t),e.next=4,r.HandCalc(t,a,n);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tt(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r,c){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.getApiInterface(t),e.next=4,s.HandEval(t,a,n,r,c);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tt(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r){var c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=this.getApiInterface(t),e.next=4,c.HandEvalPlayers(t,a,n,r);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tt(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}();function tt(e){return e.startsWith("Error: ")&&(e=e.substring(7)),{type:"err",err:e}}function at(e){var t={type:"handEval",request:e.request,err:e.err,finalPlayers:e.finalPlayers?e.finalPlayers:e.request.players,games:e.games,wins:e.wins,ties:e.ties,pties:e.pties,losses:e.losses,wp:0,wo:0,er:0};return rt(t),t}function nt(e,t){e.request||(e.request=t.request),""===e.err&&(e.err=t.err),e.games+=t.games,e.wins+=t.wins,e.ties+=t.ties,e.pties+=t.pties,e.losses+=t.losses}function rt(e){e.wp=(e.wins+e.pties)/e.games,e.wo=0===e.wp?1/0:1/e.wp-1;var t=1*e.finalPlayers;e.er=e.wp*t-1}var ct,st=function(){function e(t,a){Object(L.a)(this,e),this.workers=t,this.poserApis=new Array(t);for(var n=0;n<t;n++)this.poserApis[n]=new et(a)}return Object(q.a)(e,[{key:"HandCalc",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.poserApis[0].HandCalc(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r,c){var s,l,i,o,u,h,d,m,b;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.workers,l=Math.floor(a/s),i=a-l*s,o=Array(s),u=0;u<s;u++)h=l+(u<i?1:0),o[u]=this.poserApis[u].HandEval(t,h,n,r,c);d=null,m=0;case 7:if(!(m<s)){e.next=21;break}return e.prev=8,e.next=11,o[m];case 11:b=e.sent,d?!d.err&&b.err?d.err=b.err:d.err||"handEval"!==d.type||"handEval"!==b.type||nt(d,b):d=b,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),d?d.err||(d.err=e.t0.toString()):d=tt(e.t0.toString());case 18:m++,e.next=7;break;case 21:return d&&"handEval"===d.type&&!d.err&&rt(d),e.abrupt("return",d||tt("no results collected"));case 23:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}()},{key:"getHandStr",value:function(e,t){for(var a=e,n=a.length;n>0&&"_"===a.charAt(n-1);)n--;var r=a.substring(0,n),c=a.substring(n);r.endsWith("p")&&(r=r.substr(0,r.length-2));var s=r.lastIndexOf("p");return s<=0||r.charCodeAt(s-1)-48<t?"":r+(String.fromCharCode(48+t)+"p")+c}},{key:"HandEvalPlayers",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r){var c,s,l,i,o,u,h,d,m,b;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],s="",l=Array(0),"p"!==(i=n.trim().toLowerCase()).charAt(1))for(o=2;o<=9;o++)l[o-2]=this.HandEval(t,a,o,i,r);else for(u=2;u<=9;u++)(h=this.getHandStr(i,u))&&(l[u-2]=this.HandEval(t,a,u,h,r));d=0;case 6:if(!(d<l.length)){e.next=15;break}return e.next=9,l[d];case 9:m=e.sent,c.push(m),m.err&&(s=m.err);case 12:d++,e.next=6;break;case 15:return b={type:"handEvalPlayers",err:s,handEvals:c},e.abrupt("return",b);case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}(),lt=(a(501),P.subEngine("home")),it=lt.actionFactory(),ot=lt.subEngine("settings"),ut=ot.actionFactory(),ht=!1,dt=function(){var e=Object(ae.a)(te.a.mark((function e(t,a){var n,r,c,s,l,i,o,u,h,d,m,p,f,v,g,E,y,k,w,O,j,C,S,x;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ot.get(W()),r=n.get("apiType"),c=n.get("apiServer"),s=n.get("calcType"),l=n.get("nSims"),i=n.get("workers"),o=n.get("jwtSecret"),u=n.get("players"),h=n.get("threads"),d=n.get("playersChart"),m=n.get("playersTable"),!lt.get(W(),"tanking")){e.next=15;break}return ht=!0,e.abrupt("return");case 15:return ct&&ct.workers===i||(ct=new st(i,o)),e.prev=16,p=Date.now(),f="",t(it.value("tanking",!0)),v="rest"===r?{apiType:r,server:c,threads:h}:{apiType:r},e.next=23,ct.HandCalc(v,a,s);case 23:if(!(g=e.sent).err){e.next=28;break}f=g.err,e.next=48;break;case 28:return E=g.handCombos,t(it.value("handCombos",E)),delete g.handCombos,t(it.value("handResult",g)),e.next=34,ct.HandEval(v,l,u,a,s);case 34:if(!(y=e.sent).err){e.next=39;break}f=y.err,e.next=48;break;case 39:if(y=Object(b.fromJS)(y),k=Object(b.OrderedMap)(),t(it.value("handEval",y)),!d&&!m){e.next=47;break}return e.next=45,ct.HandEvalPlayers(v,l,a,s);case 45:if((w=e.sent).err)f=w.err;else for(O=0;O<w.handEvals.length;O++)j=w.handEvals[O],C=j.finalPlayers,j=Object(b.fromJS)(j),k=k.set(C,j);case 47:t(it.value("handEvalPlayers",k));case 48:t(it.value("err",f)),t(it.value("tanking",!1)),S=Date.now(),t(it.value("tankingMs",S-p)),ht&&(ht=!1,bt(t)),e.next=61;break;case 55:e.prev=55,e.t0=e.catch(16),x=e.t0.toString(),t(it.value("err",x)),t(it.value("tanking",!1)),ht&&(ht=!1,bt(t));case 61:case"end":return e.stop()}}),e,null,[[16,55]])})));return function(t,a){return e.apply(this,arguments)}}(),mt=function(e,t){e(it.value("hand",t)),S(C(t,7))?dt(e,t):e(it.value("handResult",{}))},bt=function(e){var t=lt.get(W(),"hand");0!==t.length&&mt(e,t)},pt=function(e,t){for(var a=W(),n=lt.get(a,"hand"),r=lt.get(a,"handCardsCnt"),c=n.length,s=c,l=n,i=0;i<t.length;i++){var o=t[i],u=l.indexOf(o),h=j(o);if(u>=0)c=u,s=u+o.length,o=69<=h&&h<=76?"":"__";else{if(r>=7&&!(69<=h&&h<=76))continue;var d=l.indexOf("__");d>=0&&(c=d,s=69<=h&&h<=76?c:c+2)}l=ne(l,c,s-c,o)}mt(e,l)},ft=Object(h.b)((function(e,t){return a=lt.get(lt.head(e)),lt.head(e),{hand:a.get("hand"),handArr:a.get("handArr"),handValid:a.get("handValid"),handEval:a.get("handEval"),handEvalPlayers:a.get("handEvalPlayers"),handResult:a.get("handResult"),handCombos:a.get("handCombos"),handCardsCnt:a.get("handCardsCnt"),err:a.get("err"),currentSuit:a.get("currentSuit"),settings:a.get("settings"),tanking:a.get("tanking"),tankingMs:a.get("tankingMs")};var a}),(function(e,t){return{setHand:function(t){return mt(e,t)},runHand:function(t){return dt(e,t)},incPlayers:function(){var t=lt.get(W(),"hand"),a=ot.get(W(),"players");a<2?(e(ut.value("players",2)),mt(e,t)):a<9&&(e(ut.value("players",a+1)),mt(e,t))},decPlayers:function(){var t=lt.get(W(),"hand"),a=ot.get(W(),"players");a>9?(e(ut.value("players",9)),mt(e,t)):a>2&&(e(ut.value("players",a-1)),mt(e,t))},clear:function(){mt(e,"______________")},recalc:function(){bt(e)},del:function(){var t=lt.get(W(),"hand");if(0!==t.length){for(var a=t.length;"_"===t.substr(a-1,1);)a--;var n="__";if(a>0){var r=1;if(a>=2){var c=j(t.substr(a-2,2));0<=c&&c<52||-1===c?r=2:69<=c&&c<=76&&(r=2,n="")}var s=ne(t,a-r,r,n);mt(e,s)}}},addCard:function(t){pt(e,[t])},addRandom:function(){for(var t=new Ve,a=lt.get(W(),"handArr"),n=0,r=0;r<a.size;r++){var c=a.get(r);0<=c&&c<52&&(t.removeCard(c),n++)}for(var s=[],l=n;l<7;l++){var i=O(t.getNextCard());s.push(i)}pt(e,s)},setCurrentSuit:function(t){e(it.value("currentSuit",t))}}})),vt=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).hand0="",n.comp0=null,n}return Object(q.a)(a,[{key:"render0",value:function(){for(var e=this.props,t=e.hand||e.children,a=e.handArr?e.handArr:Object(b.List)(C(t,2)),n=0,r=0;r<a.size;r++){var c=a.get(r);if(-1<=c&&c<52&&++n>=2){n=r+1;break}}var s=0;return i.a.createElement("div",null,a.size>0?a.slice(0,n).map((function(e){return i.a.createElement(Q,{key:s++,html:!0,code:e})})):i.a.createElement(Q,{key:s++,html:!0,code:-1}),a.size<=2?null:i.a.createElement(i.a.Fragment,null,"\xa0\xa0",a.slice(n).map((function(e){return i.a.createElement(Q,{key:s++,html:!0,code:e})}))))}},{key:"render",value:function(){var e=this.props,t=e.hand||e.children;return this.hand0&&this.hand0===t||(this.hand0=t,this.comp0=this.render0()),this.comp0}}]),a}(l.Component),gt=a(197),Et=a.n(gt),yt=function(e){var t;switch(e){case"SF":t="#ff4e4e";break;case"4":t="#cf9cff";break;case"3+2":t="#9c9cff";break;case"F":t="#ff9c9c";break;case"S":t="#9cffff";break;case"3":t="#9cff9c";break;case"2+2":t="#ffcf9c";break;case"2":t="#ffff9c";break;case"1":t="white";break;case"error":t="pink";break;default:t="grey"}return t},kt=function(e){var t;switch(e){case"error":t=Et.a.err;break;default:t=Et.a.cat}return t},wt=function(e){return i.a.createElement("span",{title:e.category,style:Object(D.a)(Object(D.a)({},e.style),{},{backgroundColor:yt(e.cat)}),className:kt(e.cat)},"\xa0",e.children,"\xa0")},Ot=function(e){var t,a={fontSize:18,height:26},n=e.handResult,r=e.handEval,c=e.handCardsCnt,s=e.settings;e.err?t=i.a.createElement(wt,{style:a,cat:"error"},e.err):c<2?t=i.a.createElement(wt,{style:a,cat:"1"},"Enter more cards ..."):e.handValid?e.tanking&&e.settings.get("nSims")>=5e5?t=i.a.createElement(wt,{style:a,cat:"F"},"Tanking ..."):n.isEmpty()?t=i.a.createElement(wt,{style:a,cat:"error"},"no result"):n.get("handValid")||(t=i.a.createElement(wt,{style:a,cat:"error"},n.get("handErr"))):t=i.a.createElement(wt,{style:a,cat:"1"},"Enter missing cards");var l=r.get("er"),o=r.get("wp"),u=r.get("wo"),h=l>=.25?"3":l<=-.25?"F":l>=0?"1":"2";return i.a.createElement(i.a.Fragment,null,t||i.a.createElement("div",null,i.a.createElement(Q,{title:"Hole Card1",style:a,html:!0},n.get("hole").substr(0,2)),i.a.createElement(Q,{title:"Hole Card2",style:a,html:!0},n.get("hole").substr(2,2)),"\xa0",c>=5?i.a.createElement(wt,{title:"Category",style:a,cat:n.get("handCat")},n.get("handCategory")):null,"\xa0",c>=5?i.a.createElement(wt,{title:"Result",style:a,cat:n.get("handCat")},n.get("handResult")):null,"\xa0",s.get("latency")?i.a.createElement(wt,{title:"Latency",style:a,cat:"1"},Math.floor(e.tankingMs/10)/100,"s"):null),i.a.createElement("div",null,i.a.createElement(wt,{title:"Return value (%)",style:a,cat:h},"ER ",parseFloat(100*l).toFixed(0),"%"),"\xa0",i.a.createElement(wt,{title:"Win probabilty (%)",style:a,cat:h},"WP ",parseFloat(100*o).toFixed(0),"%"),"\xa0",i.a.createElement(wt,{title:"Win odds (loss : win) presented as n : 1",style:a,cat:h},"WO ",u>1e3?">100":u>10?parseFloat(u).toFixed(0):parseFloat(u).toFixed(2),":1")))},jt=a(26),Ct=a(132),St=a.n(Ct),xt=function(e){var t=e.handEval;if(!t)return null;var a=t.getIn(["request","players"]),n=t.get("heroWpCats"),r=t.get("heroLpCats"),c=t.get("villainWpCats"),s=t.get("villainLpCats");if(!n)return null;var l=n.map((function(e,t){return{cat:Ae(t),hlp:-Math.floor(1e4*r.get(t))/100,hwp:Math.floor(1e4*e)/100,her:Math.floor(e*(a-2)*1e4)/100,vlp:-Math.floor(1e4*s.get(t))/100,vwp:Math.floor(1e4*c.get(t))/100,ver:Math.floor(-s.get(t)*(a-2)*1e4)/100}})).toIndexedSeq().toArray();return i.a.createElement(jt.b,{style:{fontSize:12},className:St.a.chart,layout:"horizontal",width:320,height:250,data:l,stackOffset:"sign",margin:{top:5,right:5,left:5,bottom:5}},i.a.createElement(jt.c,{stroke:"#c0c0c0",strokeDasharray:"3 3"}),i.a.createElement(jt.i,{dataKey:"cat"}),i.a.createElement(jt.j,{width:40,unit:"%",yAxisId:"left"}),i.a.createElement(jt.d,null),i.a.createElement(jt.h,null),i.a.createElement(jt.a,{yAxisId:"left",type:"monotone",dataKey:"hlp",stackId:"h",fill:"#339933"}),i.a.createElement(jt.a,{yAxisId:"left",type:"monotone",dataKey:"hwp",stackId:"h",fill:"green"}),i.a.createElement(jt.a,{yAxisId:"left",type:"monotone",dataKey:"her",stackId:"h",fill:"lightgreen"}),i.a.createElement(jt.a,{yAxisId:"left",type:"monotone",dataKey:"vlp",stackId:"v",fill:"#3333FF"}),i.a.createElement(jt.a,{yAxisId:"left",type:"monotone",dataKey:"vwp",stackId:"v",fill:"blue"}),i.a.createElement(jt.a,{yAxisId:"left",type:"monotone",dataKey:"ver",stackId:"v",fill:"lightblue"}))},At=(a(96),function(e,t,a){var n=e.get(t);if(!n)return"";var r=n.get(a);return r||(r=n.get(a.toString())),r?(100*r).toFixed(2)+"%":""}),Tt=function(e,t){var a=e.get(t);if(!a)return"";for(var n=0,r=0;r<a.size;r++)n+=a.get(r);return(100*n).toFixed(2)+"%"},Nt=function(e){var t=e.handResult,a=e.settings;if(t.isEmpty())return null;var n=e.handEval;if(!n)return null;var r=1;return i.a.createElement("div",null,a.get("catsChart")||a.get("catsTable")?i.a.createElement("h3",null,"Categories"):null,a.get("catsChart")?i.a.createElement(xt,e):null,a.get("catsTable")?i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:2,title:"Hero",className:"center"},"Hero"),i.a.createElement("th",{rowSpan:2,className:"center"},"Cat"),i.a.createElement("th",{colSpan:2,title:"Villain",className:"center"},"Villain")),i.a.createElement("tr",null,i.a.createElement("th",{title:"Hero Wins",className:"center"},"Win"),i.a.createElement("th",{title:"Hero Losses",className:"center"},"Loss"),i.a.createElement("th",{title:"Villain Wins",className:"center"},"Win"),i.a.createElement("th",{title:"Villain Losses",className:"center"},"Loss"))),i.a.createElement("tbody",null,Object(b.List)([0,1,2,3,4,5,6,7,8]).map((function(e){return i.a.createElement("tr",{key:r++},i.a.createElement("td",{className:"right"},At(n,"heroWpCats",e)),i.a.createElement("td",{className:"right"},At(n,"heroLpCats",e)),i.a.createElement("td",{title:"Category",className:"center"},i.a.createElement(wt,{cat:Ae(e)},xe(e))),i.a.createElement("td",{className:"right"},At(n,"villainWpCats",e)),i.a.createElement("td",{className:"right"},At(n,"villainLpCats",e)))})).toIndexedSeq()),i.a.createElement("tfoot",null,i.a.createElement("tr",{className:"strong"},i.a.createElement("th",{title:"Hero Wins",className:"center"},Tt(n,"heroWpCats")),i.a.createElement("th",{title:"Hero Losses",className:"center"},Tt(n,"heroLpCats")),i.a.createElement("th",{className:"center"},"Total"),i.a.createElement("th",{title:"Villain Wins",className:"center"},Tt(n,"villainWpCats")),i.a.createElement("th",{title:"Villain Losses",className:"center"},Tt(n,"villainLpCats"))))):null)},_t=function(e){var t=e.handResult;if(t.isEmpty())return null;if(!t.get("handValid"))return null;if(e.handEvalPlayers.isEmpty())return null;var a=e.handEvalPlayers.map((function(e){var t=e.get("er"),a=e.get("wp"),n=e.get("wo");return{players:e.get("finalPlayers"),er:Math.floor(1e4*t)/100,wp:Math.floor(1e4*a)/100,wo:Math.floor(100*(n>100?100:n))/100}})).toIndexedSeq().toArray();return i.a.createElement(jt.f,{style:{fontSize:12},className:St.a.chart,width:320,height:250,data:a,margin:{top:5,right:20,left:20,bottom:5}},i.a.createElement(jt.c,{stroke:"#c0c0c0",strokeDasharray:"3 3"}),i.a.createElement(jt.i,{dataKey:"players",stroke:"black"}),i.a.createElement(jt.j,{width:30,stroke:"green",unit:"%",yAxisId:"left"}),i.a.createElement(jt.j,{width:30,stroke:"red",unit:":1",yAxisId:"right",orientation:"right"}),i.a.createElement(jt.d,null),i.a.createElement(jt.h,null),i.a.createElement(jt.g,{yAxisId:"left",y:0,stroke:"black",strokeDasharray:"8 4"}),i.a.createElement(jt.e,{yAxisId:"left",type:"monotone",dataKey:"er",stroke:"green"}),i.a.createElement(jt.e,{yAxisId:"left",type:"monotone",dataKey:"wp",stroke:"blue"}),i.a.createElement(jt.e,{yAxisId:"right",type:"monotone",dataKey:"wo",stroke:"red"}))},Rt=function(e){var t=e.handResult,a=e.settings;if(t.isEmpty())return null;if(!t.get("handValid"))return null;if(e.handEvalPlayers.isEmpty())return null;var n=1;return i.a.createElement("div",null,a.get("playersChart")||a.get("playersTable")?i.a.createElement("h3",null,"Players"):null,a.get("playersChart")?i.a.createElement(_t,e):null,a.get("playersTable")?i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"center"},"Players"),i.a.createElement("th",{title:"Return value (%)",className:"center"},"ER"),i.a.createElement("th",{title:"Win probabilty (%)",className:"center"},"WP"),i.a.createElement("th",{title:"Win odds (loss : win) presented as n : 1",className:"center"},"WO"))),i.a.createElement("tbody",null,e.handEvalPlayers.map((function(t){var a=t.get("er"),r=t.get("wp"),c=t.get("wo"),s=a>=.25?"3":a<=-.25?"F":a>=0?"1":"2",l=t.get("finalPlayers")===e.handEval.get("finalPlayers")?{backgroundColor:"yellow"}:{};return i.a.createElement("tr",{style:l,key:n++},i.a.createElement("td",{className:"center"},t.get("finalPlayers")),i.a.createElement("td",{title:"Expected Return (%)",className:"right"},i.a.createElement(wt,{cat:s},parseFloat(100*a).toFixed(0),"%")),i.a.createElement("td",{title:"Win probabilty (%)",className:"right"},i.a.createElement(wt,{cat:s},parseFloat(100*r).toFixed(0),"%")),i.a.createElement("td",{title:"Win odds (loss : win) presented as n : 1",className:"right"},i.a.createElement(wt,{cat:s},c>1e3?">100":c>10?parseFloat(c).toFixed(0):parseFloat(c).toFixed(2),":1")))})).toIndexedSeq())):null)},Ft=function(e){var t=e.handResult;if(t.isEmpty())return null;if(!t.get("handValid"))return null;var a=t.get("handRank"),n=t.get("betterCombos")+t.get("equalCombos")+t.get("worseCombos"),r=e.handCombos,c=0,s=0,l={fontSize:18,padding:0};return i.a.createElement("div",null,i.a.createElement("h3",null,"Combos"),i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"center"},"N"),i.a.createElement("th",{className:"center"},"Hole"),i.a.createElement("th",{className:"center"},"\xd7"),i.a.createElement("th",{className:"center"},"Cat"),i.a.createElement("th",{className:"center"},"Cards"),i.a.createElement("th",{className:"center"},"%"))),i.a.createElement("tbody",null,r.map((function(e){var t=100*(n-s)/n,r=e.get("count"),o=e.get("handRank");return s+=r,i.a.createElement("tr",{style:a===o?{backgroundColor:"yellow"}:{},key:c++},i.a.createElement("td",{className:"right"},c),i.a.createElement("td",{className:"center"},i.a.createElement(Q,{style:Object(D.a)(Object(D.a)({},l),{},{background:"transparent",margin:0,height:24}),html:!0},e.get("hole").substr(0,2)),i.a.createElement(Q,{style:Object(D.a)(Object(D.a)({},l),{},{background:"transparent",margin:0,height:24}),html:!0},e.get("hole").substr(2,2)),"\xa0"),i.a.createElement("td",{className:"right"},r>0?r:null),i.a.createElement("td",{className:"center"},i.a.createElement(wt,{cat:e.get("cat"),category:e.get("category")},e.get("category"))),i.a.createElement("td",{className:"center"},i.a.createElement(wt,{cat:e.get("cat"),category:e.get("category")},e.get("result"))),i.a.createElement("td",{className:"right"},parseFloat(t).toFixed(2)))})))))},Mt=a(102),Pt=a.n(Mt),Bt=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"inc",value:function(){this.props.incPlayers()}},{key:"dec",value:function(){this.props.decPlayers()}},{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement(wt,{style:{fontSize:20,height:32},cat:"1"},this.props.children?i.a.createElement(i.a.Fragment,null,this.props.children,"\xa0"):null,this.props.players),"\xa0",i.a.createElement("button",{className:Pt.a.button,title:"Decrease number of players",onClick:this.dec.bind(this)},i.a.createElement(f.a,{icon:"user-minus"})),i.a.createElement("button",{className:Pt.a.button,title:"Increase number of players",onClick:this.inc.bind(this)},i.a.createElement(f.a,{icon:"user-plus"})))}}]),a}(l.Component),It=a(333),Ht=a.n(It),Wt=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"clear",value:function(e){this.props.clear()}},{key:"del",value:function(e){this.props.del()}},{key:"recalc",value:function(e){this.props.recalc()}},{key:"addRandom",value:function(e){this.props.addRandom()}},{key:"render",value:function(){var e=this.props,t=e.settings;return i.a.createElement("div",null,e.tanking,i.a.createElement("button",{title:"Clear cards",onClick:this.clear.bind(this)},i.a.createElement(f.a,{icon:"trash-alt"})),i.a.createElement("button",{title:"Delete the rightmost card",onClick:this.del.bind(this)},i.a.createElement(f.a,{icon:"backspace"})),i.a.createElement("button",{title:"Add random cards",onClick:this.addRandom.bind(this)},i.a.createElement(f.a,{icon:"random"})),"\xa0",t.get("playersButtons")?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(Bt,{players:e.settings.get("players"),incPlayers:e.incPlayers,decPlayers:e.decPlayers},"Players:")),i.a.createElement("button",{title:"Recalcuate",className:e.tanking?Ht.a.running:"",onClick:this.recalc.bind(this)},i.a.createElement(f.a,{icon:"calculator"})))}}]),a}(l.Component),Vt=function(e){return i.a.createElement("div",null,e.settings.get("playersButtons")?i.a.createElement("div",null,i.a.createElement(Q,Object.assign({},e,{card:"9p"})),i.a.createElement(Q,Object.assign({},e,{card:"8p"})),i.a.createElement(Q,Object.assign({},e,{card:"7p"})),i.a.createElement(Q,Object.assign({},e,{card:"6p"})),i.a.createElement(Q,Object.assign({},e,{card:"5p"})),i.a.createElement(Q,Object.assign({},e,{card:"4p"})),i.a.createElement(Q,Object.assign({},e,{card:"3p"})),i.a.createElement(Q,Object.assign({},e,{card:"2p"}))):null,i.a.createElement("div",null,i.a.createElement(Q,Object.assign({},e,{card:"As"})),i.a.createElement(Q,Object.assign({},e,{card:"Ks"})),i.a.createElement(Q,Object.assign({},e,{card:"Qs"})),i.a.createElement(Q,Object.assign({},e,{card:"Js"})),i.a.createElement(Q,Object.assign({},e,{card:"Ts"})),i.a.createElement(Q,Object.assign({},e,{card:"9s"})),i.a.createElement(Q,Object.assign({},e,{card:"8s"})),i.a.createElement(Q,Object.assign({},e,{card:"7s"})),i.a.createElement(Q,Object.assign({},e,{card:"6s"})),i.a.createElement(Q,Object.assign({},e,{card:"5s"})),i.a.createElement(Q,Object.assign({},e,{card:"4s"})),i.a.createElement(Q,Object.assign({},e,{card:"3s"})),i.a.createElement(Q,Object.assign({},e,{card:"2s"}))),i.a.createElement("div",null,i.a.createElement(Q,Object.assign({},e,{card:"Ah"})),i.a.createElement(Q,Object.assign({},e,{card:"Kh"})),i.a.createElement(Q,Object.assign({},e,{card:"Qh"})),i.a.createElement(Q,Object.assign({},e,{card:"Jh"})),i.a.createElement(Q,Object.assign({},e,{card:"Th"})),i.a.createElement(Q,Object.assign({},e,{card:"9h"})),i.a.createElement(Q,Object.assign({},e,{card:"8h"})),i.a.createElement(Q,Object.assign({},e,{card:"7h"})),i.a.createElement(Q,Object.assign({},e,{card:"6h"})),i.a.createElement(Q,Object.assign({},e,{card:"5h"})),i.a.createElement(Q,Object.assign({},e,{card:"4h"})),i.a.createElement(Q,Object.assign({},e,{card:"3h"})),i.a.createElement(Q,Object.assign({},e,{card:"2h"}))),i.a.createElement("div",null,i.a.createElement(Q,Object.assign({},e,{card:"Ad"})),i.a.createElement(Q,Object.assign({},e,{card:"Kd"})),i.a.createElement(Q,Object.assign({},e,{card:"Qd"})),i.a.createElement(Q,Object.assign({},e,{card:"Jd"})),i.a.createElement(Q,Object.assign({},e,{card:"Td"})),i.a.createElement(Q,Object.assign({},e,{card:"9d"})),i.a.createElement(Q,Object.assign({},e,{card:"8d"})),i.a.createElement(Q,Object.assign({},e,{card:"7d"})),i.a.createElement(Q,Object.assign({},e,{card:"6d"})),i.a.createElement(Q,Object.assign({},e,{card:"5d"})),i.a.createElement(Q,Object.assign({},e,{card:"4d"})),i.a.createElement(Q,Object.assign({},e,{card:"3d"})),i.a.createElement(Q,Object.assign({},e,{card:"2d"}))),i.a.createElement("div",null,i.a.createElement(Q,Object.assign({},e,{card:"Ac"})),i.a.createElement(Q,Object.assign({},e,{card:"Kc"})),i.a.createElement(Q,Object.assign({},e,{card:"Qc"})),i.a.createElement(Q,Object.assign({},e,{card:"Jc"})),i.a.createElement(Q,Object.assign({},e,{card:"Tc"})),i.a.createElement(Q,Object.assign({},e,{card:"9c"})),i.a.createElement(Q,Object.assign({},e,{card:"8c"})),i.a.createElement(Q,Object.assign({},e,{card:"7c"})),i.a.createElement(Q,Object.assign({},e,{card:"6c"})),i.a.createElement(Q,Object.assign({},e,{card:"5c"})),i.a.createElement(Q,Object.assign({},e,{card:"4c"})),i.a.createElement(Q,Object.assign({},e,{card:"3c"})),i.a.createElement(Q,Object.assign({},e,{card:"2c"}))))},Lt=function(e){var t=e.currentSuit,a=Object(D.a)(Object(D.a)({},e.style),{},{lineHeight:"0px",fontSize:28}),n=e.settings.get("playersButtons"),r=function(e){return n?e:null};return i.a.createElement("div",null,i.a.createElement("div",null,r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"9P"}))),"\xa0",i.a.createElement(Q,Object.assign({},e,{style:"s"===t?Object(D.a)({},e.style):Object(D.a)(Object(D.a)({},a),{},{backgroundColor:"lightgrey"}),card:"s"===t?"As":"Xs"})),i.a.createElement(Q,Object.assign({},e,{style:"h"===t?Object(D.a)({},e.style):Object(D.a)(Object(D.a)({},a),{},{backgroundColor:"lightgrey"}),card:"h"===t?"Ah":"Xh"})),i.a.createElement(Q,Object.assign({},e,{style:"d"===t?Object(D.a)({},e.style):Object(D.a)(Object(D.a)({},a),{},{backgroundColor:"lightgrey"}),card:"d"===t?"Ad":"Xd"})),i.a.createElement(Q,Object.assign({},e,{style:"c"===t?Object(D.a)({},e.style):Object(D.a)(Object(D.a)({},a),{},{backgroundColor:"lightgrey"}),card:"c"===t?"Ac":"Xc"})),"\xa0",r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"5P"})))),i.a.createElement("div",null,r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"8P"}))),"\xa0",i.a.createElement(Q,Object.assign({},e,{card:"K"+t})),i.a.createElement(Q,Object.assign({},e,{card:"Q"+t})),i.a.createElement(Q,Object.assign({},e,{card:"J"+t})),i.a.createElement(Q,Object.assign({},e,{card:"T"+t})),"\xa0",r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"4P"})))),i.a.createElement("div",null,r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"7P"}))),"\xa0",i.a.createElement(Q,Object.assign({},e,{card:"9"+t})),i.a.createElement(Q,Object.assign({},e,{card:"8"+t})),i.a.createElement(Q,Object.assign({},e,{card:"7"+t})),i.a.createElement(Q,Object.assign({},e,{card:"6"+t})),"\xa0",r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"3P"})))),i.a.createElement("div",null,r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"6P"}))),"\xa0",i.a.createElement(Q,Object.assign({},e,{card:"5"+t})),i.a.createElement(Q,Object.assign({},e,{card:"4"+t})),i.a.createElement(Q,Object.assign({},e,{card:"3"+t})),i.a.createElement(Q,Object.assign({},e,{card:"2"+t})),"\xa0",r(i.a.createElement(Q,Object.assign({},e,{style:Object(D.a)({},a),card:"2P"})))))},qt=a(334),Jt=a.n(qt),Kt=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;e.setHand(e.hand)}},{key:"click",value:function(e){var t=this.props;switch(e){case"Xs":t.setCurrentSuit("s");break;case"Xh":t.setCurrentSuit("h");break;case"Xd":t.setCurrentSuit("d");break;case"Xc":t.setCurrentSuit("c");break;case"?":break;default:t.addCard(e)}}},{key:"render",value:function(){var e=this.props,t=e.settings;return i.a.createElement("div",null,i.a.createElement("div",{className:Jt.a.sticky},i.a.createElement(vt,e),i.a.createElement("hr",null)),i.a.createElement("h3",null,i.a.createElement(Wt,e)),i.a.createElement("h3",null,i.a.createElement(Ot,e)),i.a.createElement("h3",null,t.get("denseKeyboard")?i.a.createElement(Vt,{handArr:e.handArr,click:this.click.bind(this),style:{width:"7%"},html:!0,vertical:!0,settings:e.settings}):i.a.createElement(Lt,{currentSuit:e.currentSuit,handArr:e.handArr,click:this.click.bind(this),style:{height:40,width:40,margin:2,fontSize:"20px"},html:!0,vertical:!1,settings:e.settings})),i.a.createElement("h3",null,i.a.createElement(Rt,e)),i.a.createElement("h3",null,i.a.createElement(Nt,e)),e.settings.get("combosTable")&&e.handCardsCnt>=5?i.a.createElement("h3",null,i.a.createElement(Ft,e)):null)}}]),a}(l.Component),Dt={js:{value:"js",label:"JavaScript"},wasm:{value:"wasm",label:"WebAssembly"},rest:{value:"rest",label:"REST"}},zt={basic:{value:"basic",label:"Basic"},fast:{value:"fast",label:"Fast"},loki:{value:"loki",label:"Loki"}},Xt=P.subEngine("home.settings"),Ut=Xt.actionFactory(),Gt=Object(h.b)((function(e,t){return a=Xt.get(Xt.head(e)),Xt.head(e),{apiType:a.get("apiType"),apiTypeLabel:Dt[a.get("apiType")].label,apiServer:a.get("apiServer"),jwtSecret:a.get("jwtSecret"),calcType:a.get("calcType"),calcTypeLabel:zt[a.get("calcType")].label,nSims:a.get("nSims"),workers:a.get("workers"),threads:a.get("threads"),players:a.get("players"),catsChart:a.get("catsChart"),catsTable:a.get("catsTable"),playersChart:a.get("playersChart"),playersTable:a.get("playersTable"),combosTable:a.get("combosTable"),denseKeyboard:a.get("denseKeyboard"),playersButtons:a.get("playersButtons"),devMode:a.get("devMode"),latency:a.get("latency")};var a}),(function(e,t){return{setApiType:function(t){e(Ut.value("apiType",t))},setApiServer:function(t){e(Ut.value("apiServer",t))},setJwtSecret:function(t){e(Ut.value("jwtSecret",t))},setCalcType:function(t){e(Ut.value("calcType",t))},setSims:function(t){e(Ut.value("nSims",t))},setWorkers:function(t){e(Ut.value("workers",t))},setThreads:function(t){e(Ut.value("threads",t))},setCatsChart:function(t){e(Ut.value("catsChart",t))},setCatsTable:function(t){e(Ut.value("catsTable",t))},setPlayersChart:function(t){e(Ut.value("playersChart",t))},setPlayersTable:function(t){e(Ut.value("playersTable",t))},setCombosTable:function(t){e(Ut.value("combosTable",t))},setDenseKeyboard:function(t){e(Ut.value("denseKeyboard",t))},setPlayersButtons:function(t){e(Ut.value("playersButtons",t))},setDevMode:function(t){e(Ut.value("devMode",t))},setLatency:function(t){e(Ut.value("latency",t))}}})),Qt=a(43),Yt=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setApiType(e.value)},n.options=[],Object.keys(Dt).map((function(e){return n.options.push(Dt[e])})),n}return Object(q.a)(a,[{key:"render",value:function(){var e=Dt[this.props.apiType];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Qt.a,{value:e,onChange:this.handleChange,options:this.options}))}}]),a}(l.Component),Zt=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).changeApiServer=function(t){e.props.setApiServer(t.target.value)},e}return Object(q.a)(a,[{key:"render",value:function(){return i.a.createElement("span",{style:{width:150}},i.a.createElement("input",{style:{height:30,width:140,textAlign:"left"},type:"text",name:"ApiServer",title:"REST Server URL",value:this.props.apiServer,maxLength:64,onChange:this.changeApiServer.bind(this),placeholder:"REST Server URL ..."}))}}]),a}(l.Component),$t=a(100),ea=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).changeJwtSecret=function(e){var t=$t.Base64.encode(e.target.value);n.props.setJwtSecret(t)},n.changeShowSecret=function(e){var t={showSecret:!n.state.showSecret};n.setState(t)},n.state={showSecret:!1},n}return Object(q.a)(a,[{key:"render",value:function(){var e=this.state.showSecret?"text":"password",t=$t.Base64.decode(this.props.jwtSecret);return i.a.createElement("span",{style:{width:150}},i.a.createElement("input",{style:{height:30,width:120,textAlign:"left"},type:e,name:"JwtSecret",title:"REST Server URL",value:t,maxLength:64,onChange:this.changeJwtSecret.bind(this),placeholder:""}),i.a.createElement("input",{type:"checkbox",name:"show",title:"Show Secret",checked:this.state.showSecret,onChange:this.changeShowSecret.bind(this)}))}}]),a}(l.Component),ta={0:{value:0,label:"MAXCPUs"},1:{value:1,label:"1"},2:{value:2,label:"2"},4:{value:4,label:"4"},6:{value:6,label:"6"},8:{value:8,label:"8"},12:{value:12,label:"12"},16:{value:16,label:"16"},24:{value:24,label:"24"},32:{value:32,label:"32"}},aa=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setThreads(e.value)},n.customStyles={option:function(e,t){return Object(D.a)(Object(D.a)({},e),{},{textAlign:"right"})},control:function(e){return Object(D.a)({},e)},singleValue:function(e,t){return Object(D.a)({},e)}},n.options=[],Object.keys(ta).map((function(e){return n.options.push(ta[e])})),n}return Object(q.a)(a,[{key:"render",value:function(){var e=ta[this.props.threads.toString()];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Qt.a,{styles:this.customStyles,value:e,onChange:this.handleChange,options:this.options}))}}]),a}(l.Component),na=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setCalcType(e.value)},n.options=[],Object.keys(zt).map((function(e){return n.options.push(zt[e])})),n}return Object(q.a)(a,[{key:"render",value:function(){var e=zt[this.props.calcType];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Qt.a,{value:e,onChange:this.handleChange,options:this.options}))}}]),a}(l.Component),ra={1:{value:1,label:"1"},2:{value:2,label:"2"},4:{value:4,label:"4"},6:{value:6,label:"6"},8:{value:8,label:"8"},12:{value:12,label:"12"},16:{value:16,label:"16"},24:{value:24,label:"24"},32:{value:32,label:"32"}},ca=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setWorkers(e.value)},n.customStyles={option:function(e,t){return Object(D.a)(Object(D.a)({},e),{},{textAlign:"right"})},control:function(e){return Object(D.a)({},e)},singleValue:function(e,t){return Object(D.a)({},e)}},n.options=[],Object.keys(ra).map((function(e){return n.options.push(ra[e])})),n}return Object(q.a)(a,[{key:"render",value:function(){var e=ra[this.props.workers.toString()];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Qt.a,{styles:this.customStyles,value:e,onChange:this.handleChange,options:this.options}))}}]),a}(l.Component),sa={100:{value:100,label:"100"},500:{value:500,label:"500"},1e3:{value:1e3,label:"1,000"},5e3:{value:5e3,label:"5,000"},1e4:{value:1e4,label:"10,000"},5e4:{value:5e4,label:"50,000"},1e5:{value:1e5,label:"100,000"},5e5:{value:5e5,label:"500,000"},1e6:{value:1e6,label:"1,000,000"},5e6:{value:5e6,label:"5,000,000"},1e7:{value:1e7,label:"10,000,000"},5e7:{value:5e7,label:"50,000,000"},1e8:{value:1e8,label:"100,000,000"}},la=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setSims(e.value)},n.customStyles={option:function(e,t){return Object(D.a)(Object(D.a)({},e),{},{textAlign:"right"})},control:function(e){return Object(D.a)({},e)},singleValue:function(e,t){return Object(D.a)({},e)}},n.options=[],Object.keys(sa).map((function(e){return n.options.push(sa[e])})),n}return Object(q.a)(a,[{key:"render",value:function(){var e=sa[this.props.nSims.toString()];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Qt.a,{styles:this.customStyles,value:e,onChange:this.handleChange,options:this.options}))}}]),a}(l.Component),ia=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("a",{href:"?reset=true",title:"Reset application data",rel:"noopener noreferrer"},i.a.createElement("button",{className:Pt.a.button},i.a.createElement(f.a,{icon:"trash-restore"}))))}}]),a}(l.Component),oa=a(44),ua=a.n(oa),ha=a(29),da=a.n(ha),ma=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"catsChartChange",value:function(e){this.props.setCatsChart(e)}},{key:"catsTableChange",value:function(e){this.props.setCatsTable(e)}},{key:"playersChartChange",value:function(e){this.props.setPlayersChart(e)}},{key:"playersTableChange",value:function(e){this.props.setPlayersTable(e)}},{key:"combosTableChange",value:function(e){this.props.setCombosTable(e)}},{key:"denseKeyboardChange",value:function(e){this.props.setDenseKeyboard(e)}},{key:"playersButtonsChange",value:function(e){this.props.setPlayersButtons(e)}},{key:"devModeChange",value:function(e){this.props.setDevMode(e)}},{key:"latencyChange",value:function(e){this.props.setLatency(e)}},{key:"render",value:function(){var e=this.props;return i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Players Chart:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.playersChartChange.bind(this),height:20,width:40,checked:e.playersChart}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Players Table:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.playersTableChange.bind(this),height:20,width:40,checked:e.playersTable}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Categories Chart:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.catsChartChange.bind(this),height:20,width:40,checked:e.catsChart}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Categories Table:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.catsTableChange.bind(this),height:20,width:40,checked:e.catsTable}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Combos Table:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.combosTableChange.bind(this),height:20,width:40,checked:e.combosTable}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Dense Keyboard:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.denseKeyboardChange.bind(this),height:20,width:40,checked:e.denseKeyboard}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Players Buttons:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.playersButtonsChange.bind(this),height:20,width:40,checked:e.playersButtons}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Dev Mode:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.devModeChange.bind(this),height:20,width:40,checked:e.devMode}))),i.a.createElement("tr",null,i.a.createElement("td",{className:da.a.right},"Show Latency:"),i.a.createElement("td",null,i.a.createElement(ua.a,{className:da.a.switch,onChange:this.latencyChange.bind(this),height:20,width:40,checked:e.latency})))))}}]),a}(l.Component);function ba(){for(var e=["Edge","Firefox","Safari","Chrome","Opera"],t=navigator.userAgent,a=e.length-1;a>=0;a--){var n=e[a],r=t.indexOf(n);if(r>=0){var c=r+n.length,s=c;return"/"===t[c]&&(c++,(s=t.indexOf(" ",c))<0&&(s=t.length)),n+" "+t.substring(c,s)}}return"Unknown"}function pa(){try{new Function("async () => {}")()}catch(e){return!1}return!0}var fa=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).isMobileDevice=z(),n.browserFeatures=function(){var e={name:ba(),language:navigator.language,platform:navigator.platform,hasAsync:pa(),abortController:!!window.AbortController,webWorker:!!window.Worker,webAssembly:"object"===typeof WebAssembly};return e.isOutdatedBrowser=!(e.hasAsync&&e.abortController&&e.webWorker&&e.webAssembly),e}(),n}return Object(q.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.browserFeatures.isOutdatedBrowser?i.a.createElement("div",null,i.a.createElement(wt,{style:{height:36},cat:"error"},i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}),"\xa0 Missing Critical Features \xa0",i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}),i.a.createElement("br",null),"Please Update Your Web Browser"),i.a.createElement("br",null),i.a.createElement("br",null)):null,i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"center"},"Feature"),i.a.createElement("th",{className:"center"},"Value"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"name:"),i.a.createElement("td",{className:"center"},this.browserFeatures.name)),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"language:"),i.a.createElement("td",{className:"center"},this.browserFeatures.language)),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"platform:"),i.a.createElement("td",{className:"center"},this.browserFeatures.platform)),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"mobile:"),i.a.createElement("td",{className:"center"},this.isMobileDevice?"Yes":"No")),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"async/await:"),i.a.createElement("td",{className:"center"},this.browserFeatures.hasAsync?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"abort controller:"),i.a.createElement("td",{className:"center"},this.browserFeatures.abortController?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"web worker:"),i.a.createElement("td",{className:"center"},this.browserFeatures.webWorker?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"web assembly:"),i.a.createElement("td",{className:"center"},this.browserFeatures.webAssembly?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))))))}}]),a}(l.Component),va=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"render",value:function(){var e=this.props;return i.a.createElement("div",null,i.a.createElement("h3",null,"Settings"),i.a.createElement("h4",null,i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Poser Engine:\xa0"),i.a.createElement("td",null,i.a.createElement(Yt,e))),"rest"===this.props.apiType?i.a.createElement(i.a.Fragment,null,i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Server URL:\xa0"),i.a.createElement("td",null,i.a.createElement(Zt,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"JWT Secret:\xa0"),i.a.createElement("td",null,i.a.createElement(ea,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Server Threads:\xa0"),i.a.createElement("td",null,i.a.createElement(aa,e)))):null,i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Calculator:\xa0"),i.a.createElement("td",null,i.a.createElement(na,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Simulations:\xa0"),i.a.createElement("td",null,i.a.createElement(la,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Workers:\xa0"),i.a.createElement("td",null,i.a.createElement(ca,e)))))),i.a.createElement("h3",null,"Options"),i.a.createElement("h4",null,i.a.createElement(ma,e)),i.a.createElement("h3",null,"Browser Features"),i.a.createElement("h4",null,i.a.createElement(fa,null)),i.a.createElement("h3",null,"Clear Saved Data"),i.a.createElement("h4",null,i.a.createElement(ia,null)))}}]),a}(l.Component),ga=function(e){return i.a.createElement("div",null,i.a.createElement("h2",null,"Links"),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://poserjs.github.io",target:"_blank",rel:"noopener noreferrer"},"PoserJS Online")),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://github.com/poserjs/poserjs.github.io/wiki",target:"_blank",rel:"noopener noreferrer"},"PoserJS Wiki")),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://github.com/poserjs/poserjs.github.io",target:"_blank",rel:"noopener noreferrer"},"PoserJS Github")),i.a.createElement("h2",null,"Credits"),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://facebook.github.io/create-react-app/",target:"_blank",rel:"noopener noreferrer"},"Create React App")),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://fontawesome.com",target:"_blank",rel:"noopener noreferrer"},"Font Awesome")))},Ea=a(134),ya=a.n(Ea),ka=(a(677),function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"render",value:function(){var e=this.props,t=e.state,a=e.action,n=e.repo,r=e.showRepo;return i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("h2",null,"State Inspector")),i.a.createElement("div",{className:"TimeMachinePage-body"},r?[i.a.createElement("h4",{key:1},"Repository"),i.a.createElement(ya.a,{key:2,name:!1,src:n.toJS()})]:[i.a.createElement("h4",{key:1},"Action"),i.a.createElement(ya.a,{key:2,name:!1,src:a}),i.a.createElement("h4",{key:3},"State"),i.a.createElement(ya.a,{key:4,name:!1,src:t.toJS()})]))}}]),a}(l.Component)),wa=Object(h.b)((function(e,t){var a=t.engine,n=a.currentBranchState(e),r=n.get("currentIndex"),c=n.get("states"),s=r<0?void 0:c.get(r),l=n.get("actions"),i=r<0?void 0:l.get(r),o=r<=0?void 0:c.get(r-1),u=e.getIn(["options","showRepo"]);return{prevState:a.printableState(o),state:a.printableState(s),action:i,repo:e,showRepo:u}}),(function(e,t){return{}}))(ka),Oa=a(340),ja=(a(731),a(732),function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={currentBranch:e.currentBranch,live:e.live,advanced:!1,showRepo:e.showRepo,saveAs:""},n}return Object(q.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentBranch:e.currentBranch,live:e.live,showRepo:e.showRepo})}},{key:"onSubmit",value:function(e){e.preventDefault()}},{key:"onChange",value:function(e){this.setState(Object(R.a)({},e.target.name,e.target.value))}},{key:"onChangeBranch",value:function(e){var t=this.props.switchBranch,a=e.target.value;this.setState({currentBranch:a}),t(a)}},{key:"onSaveBranch",value:function(e){var t=this.props.saveBranch;this.state.saveAs&&t(this.state.saveAs),this.setState({saveAs:""})}},{key:"onReset",value:function(e){var t=this.props,a=t.currentBranch;(0,t.resetBranch)(a)}},{key:"onRemove",value:function(e){var t=this.props,a=t.currentBranch;(0,t.removeBranch)(a)}},{key:"onGoFastForward",value:function(e){(0,this.props.goForward)(10)}},{key:"onGoForward",value:function(e){(0,this.props.goForward)(1)}},{key:"onGoBack",value:function(e){(0,this.props.goBack)(1)}},{key:"onGoFastBack",value:function(e){(0,this.props.goBack)(10)}},{key:"onGoLive",value:function(e){(0,this.props.goLive)()}},{key:"toggleLive",value:function(e){var t=this.props,a=t.goBack,n=t.goLive,r=!this.state.live;this.setState({live:r}),r?n():a(0)}},{key:"toggleAdvanced",value:function(e){var t=!this.state.advanced;this.setState({advanced:t})}},{key:"toggleRepo",value:function(e){var t=this.props.doShowRepo,a=!this.state.showRepo;this.setState({showRepo:a}),t(a)}},{key:"onSliderChange",value:function(e){var t=this.props,a=t.goForward,n=t.goBack,r=t.currentIndex,c=e-1;c>r?a(c-r):c<r&&n(r-c)}},{key:"render",value:function(){var e=this.props,t=e.branches,a=e.currentIndex,n=e.maxIndex;return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},i.a.createElement("button",{onClick:this.toggleLive.bind(this),title:this.state.live?"Time Machine On":"Time Machine Off"},this.state.live?i.a.createElement(f.a,{icon:"history"}):i.a.createElement(f.a,{icon:"play"})),i.a.createElement("button",{onClick:this.toggleAdvanced.bind(this),title:this.state.advanced?"Advanced Mode Off":"Advanced Mode On"},this.state.advanced?i.a.createElement("b",null,"\u2630"):i.a.createElement("span",null,"\u2630")),"\xa0",this.state.advanced?[i.a.createElement("button",{key:1,onClick:this.toggleRepo.bind(this),title:this.state.showRepo?"Show State":"Show Repo"},this.state.showRepo?i.a.createElement(f.a,{key:2,icon:"genderless"}):i.a.createElement(f.a,{key:2,icon:"code-branch"})),i.a.createElement("select",{key:3,name:"currentBranch",value:this.state.currentBranch,onChange:this.onChangeBranch.bind(this),title:"Change Branch"},t.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)})).toIndexedSeq())]:null,i.a.createElement("button",{onClick:this.onGoBack.bind(this),title:"Go Back"},"<"),"\xa0",a+1," / ",n+1,"\xa0",i.a.createElement("button",{onClick:this.onGoForward.bind(this),title:"Go Forward"},">"),this.state.advanced?i.a.createElement("span",null,i.a.createElement("input",{name:"saveAs",size:"8",value:this.state.saveAs,onChange:this.onChange.bind(this)}),i.a.createElement("button",{onClick:this.onSaveBranch.bind(this),title:"Save Branch",disabled:!this.state.saveAs},"Save"),i.a.createElement("button",{onClick:this.onReset.bind(this),title:"Reset Branch"},"Reset"),i.a.createElement("button",{onClick:this.onRemove.bind(this),title:"Remove Branch"},"Remove")):null),this.state.live?null:i.a.createElement("div",{className:"TimeMachineControls-slider"},i.a.createElement(Oa.a,{min:1,max:n+1,value:a+1,step:1,onChange:this.onSliderChange.bind(this)})))}}]),a}(l.Component)),Ca=Object(h.b)((function(e,t){var a=e.get("currentBranch"),n=e.get("branches"),r=n.get(a),c=r.get("live"),s=e.getIn(["options","showRepo"]),l=r.get("currentIndex"),i=r.get("states").size-1;return{branches:n.keySeq(),currentBranch:a,currentIndex:l,maxIndex:i,live:c,showRepo:s}}),(function(e,t){var a=t.engine.actionFactory();return{goForward:function(t){var n=a.goForward(t);e(n)},goBack:function(t){var n=a.goBack(t);e(n)},goLive:function(){var t=a.goLive();e(t)},doShowRepo:function(t){var n=a.setOption("showRepo",t);e(n)},switchBranch:function(t){var n=a.switchBranch(t);e(n)},saveBranch:function(t){var n=a.saveBranch(t);e(n)},resetBranch:function(t){var n=a.resetBranch(t);e(n)},removeBranch:function(t){if("master"!==t){var n=a.switchBranch("master");e(n);var r=a.removeBranch(t);e(r)}}}}))(ja),Sa=(a(733),a(734),ft(Kt)),xa=Gt(va),Aa=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={selectedTabIndex:n.props.state.get("selectedTabIndex")},n}return Object(q.a)(a,[{key:"updateTabIndex",value:function(e){this.setState({selectedTabIndex:e}),this.props.updateTabIndex(e)}},{key:"render",value:function(){var e=this.props.state.getIn(["home","settings","devMode"]);return i.a.createElement($.d,{selectedTabClassName:"react-tabs__tab--selected Menu-selected",selectedIndex:this.state.selectedTabIndex,onSelect:this.updateTabIndex.bind(this)},i.a.createElement($.b,{className:"Menu"},i.a.createElement($.a,{title:"Hands"},i.a.createElement(f.a,{icon:"calculator"})),i.a.createElement($.a,{title:"Settings"},i.a.createElement(f.a,{icon:"cog"})),i.a.createElement($.a,{title:"Links & Credits"},i.a.createElement(f.a,{icon:"info"})),e?i.a.createElement($.a,{title:"State Inspector"},i.a.createElement(f.a,{icon:"bug"})):null),i.a.createElement("hr",null),i.a.createElement($.c,null,i.a.createElement(Sa,null)),i.a.createElement($.c,null,i.a.createElement(xa,null)),i.a.createElement($.c,null,i.a.createElement(ga,null)),e?i.a.createElement($.c,null,i.a.createElement(Ca,{engine:this.props.engine}),i.a.createElement(wa,{engine:this.props.engine})):null)}}]),a}(l.Component),Ta=a(8),Na=a(2),_a=a(339);Ta.b.add(Na.Z),Ta.b.add(Na.s),Ta.b.add(_a.a),Ta.b.add(Na.t),Ta.b.add(Na.l),Ta.b.add(Na.Q),Ta.b.add(Na.v),Ta.b.add(Na.O),Ta.b.add(Na.g),Ta.b.add(Na.N),Ta.b.add(Na.w),Ta.b.add(Na.y),Ta.b.add(Na.V),Ta.b.add(Na.D),Ta.b.add(Na.z),Ta.b.add(Na.r),Ta.b.add(Na.h),Ta.b.add(Na.b),Ta.b.add(Na.f),Ta.b.add(Na.B),Ta.b.add(Na.J),Ta.b.add(Na.W),Ta.b.add(Na.X),Ta.b.add(Na.Y),Ta.b.add(Na.E),Ta.b.add(Na.L),Ta.b.add(Na.S),Ta.b.add(Na.R),Ta.b.add(Na.T),Ta.b.add(Na.m),Ta.b.add(Na.G),Ta.b.add(Na.H),Ta.b.add(Na.I),Ta.b.add(Na.a),Ta.b.add(Na.C),Ta.b.add(Na.K),Ta.b.add(Na.k),Ta.b.add(Na.F),Ta.b.add(Na.P),Ta.b.add(Na.q),Ta.b.add(Na.p),Ta.b.add(Na.e),Ta.b.add(Na.u),Ta.b.add(Na.i),Ta.b.add(Na.n),Ta.b.add(Na.M),Ta.b.add(Na.x),Ta.b.add(Na.c),Ta.b.add(Na.A),Ta.b.add(Na.j),Ta.b.add(Na.o),Ta.b.add(Na.d),Ta.b.add(Na.U);a(735);var Ra=function(e){Object(J.a)(a,e);var t=Object(K.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"App-header"},i.a.createElement(Z,null)),i.a.createElement(Aa,this.props))}}]),a}(l.Component),Fa=P.actionFactory(),Ma=Object(h.b)((function(e,t){return a=t.engine.head(e),n=t.engine.live(e),{state:a,live:n};var a,n}),(function(e,t){return{updateTabIndex:function(t){return e(Fa.value("selectedTabIndex",t))}}}))(Ra),Pa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ba(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}u.a.render(i.a.createElement(h.a,{store:I},i.a.createElement(Ma,{engine:P})),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Pa?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ba(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ba(t,e)}))}}()},86:function(e,t,a){e.exports={square:"Card_square__eAkJW",htmlSquare:"Card_htmlSquare__2vwOq",htmlSquareMobile:"Card_htmlSquareMobile__RrZb0",ball:"Card_ball__5lM5L",htmlBall:"Card_htmlBall__31wpT"}},96:function(e,t,a){}},[[368,1,2]]]);
//# sourceMappingURL=main.0be26c91.chunk.js.map
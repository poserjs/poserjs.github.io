(this.webpackJsonpposerjs=this.webpackJsonpposerjs||[]).push([[0],{108:function(e,t,a){e.exports={button:"SettingsButtons_button__2Xh6m"}},202:function(e,t,a){e.exports={cat:"Category_cat__1OQqw",err:"Category_err__3OT8i"}},269:function(e,t,a){"use strict";(function(e){a(3),a(17),a(4),a(5);if("undefined"!==typeof e);else{if("undefined"===typeof window)throw new Error("cannot export Go (neither global, window nor self is defined)");window.global=window}if(e.process&&"node"===e.process.title);else{var t="";e.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync:function(e,a){var r=(t+=n.decode(a)).lastIndexOf("\n");return-1!==r&&(console.log(t.substr(0,r)),t=t.substr(r+1)),a.length},write:function(e,t,a,n,r,s){if(0!==a||n!==t.length||null!==r)throw new Error("not implemented");s(null,this.writeSync(e,t))},open:function(e,t,a,n){var r=new Error("not implemented");r.code="ENOSYS",n(r)},read:function(e,t,a,n,r,s){var l=new Error("not implemented");l.code="ENOSYS",s(l)},fsync:function(e,t){t(null)}}}var n;e.fs}).call(this,a(33))},30:function(e,t,a){e.exports={switch:"CheckboxGroup_switch__110xu",right:"CheckboxGroup_right__PtWaV"}},332:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h}));var n=a(3),r=a.n(n),s=a(17),l=a(4),c=a(5),i=a(105),o=a(333),u=a.n(o),h=function(){function t(e){Object(l.a)(this,t),this.secret=e}return Object(c.a)(t,[{key:"getToken",value:function(){var t=Object(s.a)(r.a.mark((function t(a){var n,s,l,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={user:{username:a}},s={algorithm:"HS256",expiresIn:"1h"},l=i.Base64.decode(this.secret),c=e.from(l,"utf8"),t.abrupt("return",new Promise((function(e,t){return u.a.sign(n,c,s,(function(a,n){a?t(a):e(n)}))})));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken("john");case 2:return a=e.sent,e.next=5,fetch(t,{method:"GET",headers:{Authorization:"Bearer "+a}});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())},{key:"HandCalc",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return s=t.server+"/v1/api/calc/"+a+"?calc="+n,e.next=5,this.fetch(s);case 5:if(200===(l=e.sent).status){e.next=8;break}throw new Error(l.statusText);case 8:return e.next=10,l.json();case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s,l){var c,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return c=t.server+"/v1/api/eval/"+s+"?calc="+l+"&nsims="+a.toString()+"&players="+n.toString()+"&threads="+t.threads.toString(),e.next=5,this.fetch(c);case 5:if(200===(i=e.sent).status){e.next=8;break}throw new Error(i.statusText);case 8:return e.next=10,i.json();case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s){var l,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return l=t.server+"/v1/api/eval/"+n+"?calc="+s+"&nsims="+a.toString()+"&threads="+t.threads.toString(),e.next=5,this.fetch(l);case 5:if(200===(c=e.sent).status){e.next=8;break}throw new Error(c.statusText);case 8:return e.next=10,c.json();case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"WarGames",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return a=t.server+"/v1/api/war/games",e.next=5,this.fetch(a);case 5:if(200===(n=e.sent).status){e.next=8;break}throw new Error(n.statusText);case 8:return e.next=10,n.json();case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"HandWar",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s,l,c,i,o){var u,h,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rest"===t.apiType){e.next=2;break}throw new Error("invalid apiType in rest code: "+t.apiType);case 2:return u=t.server+"/v1/api/war/"+o+"?ranks="+i+"&villain="+s+"&hero="+l+"&n="+c+"&nsims="+a.toString()+"&players="+n.toString()+"&threads="+t.threads.toString(),e.next=5,this.fetch(u);case 5:if(200===(h=e.sent).status){e.next=8;break}throw new Error(h.statusText);case 8:return e.next=10,h.json();case 10:return d=e.sent,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s,l,c,i){return e.apply(this,arguments)}}()}]),t}()}).call(this,a(28).Buffer)},342:function(e,t,a){e.exports={sticky:"HomePage_sticky__16BCT"}},374:function(e,t,a){e.exports=a(762)},395:function(e,t,a){},400:function(e,t){},402:function(e,t){},416:function(e,t){},418:function(e,t){},446:function(e,t){},448:function(e,t){},449:function(e,t){},455:function(e,t){},457:function(e,t){},475:function(e,t){},477:function(e,t){},489:function(e,t){},492:function(e,t){},59:function(e,t,a){e.exports={table:"DistTable_table__1L7KT",tr:"DistTable_tr__1DjlE",td:"DistTable_td__3-13D",th:"DistTable_th__II3oJ"}},69:function(e,t,a){e.exports={button:"InputButtons_button__2zL__",running:"InputButtons_running__1j8FV"}},757:function(e,t,a){},758:function(e,t,a){},760:function(e,t,a){},761:function(e,t,a){},762:function(e,t,a){"use strict";a.r(t);var n,r,s,l,c=a(1),i=a.n(c),o=a(22),u=a.n(o),h=a(36),d=a(347),m=a(331),p=a(13),b={apiType:{type:"value",persistent:!0,initValue:"wasm"},apiServer:{type:"value",persistent:!0,initValue:"http://localhost:7272"},jwtSecret:{type:"value",persistent:!0,initValue:""},calcType:{type:"value",persistent:!0,initValue:"basic"},nSims:{type:"value",persistent:!0,initValue:1e4},workers:{type:"value",persistent:!0,initValue:1},threads:{type:"value",persistent:!0,initValue:1},players:{type:"value",persistent:!0,initValue:9},catsChart:{type:"value",persistent:!0,initValue:!1},catsTable:{type:"value",persistent:!0,initValue:!0},playersChart:{type:"value",persistent:!0,initValue:!1},playersTable:{type:"value",persistent:!0,initValue:!0},combosTable:{type:"value",persistent:!0,initValue:!0},denseKeyboard:{type:"value",persistent:!0,initValue:!0},playersButtons:{type:"value",persistent:!0,initValue:!1},devMode:{type:"value",persistent:!0,initValue:!1},latency:{type:"value",persistent:!0,initValue:!0}},f=a(20),v=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],g=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],y=["c","d","h","s","x"],E=["black","red","red","black","grey"],k=["\ud83c\udcd2","\ud83c\udcd3","\ud83c\udcd4","\ud83c\udcd5","\ud83c\udcd6","\ud83c\udcd7","\ud83c\udcd8","\ud83c\udcd9","\ud83c\udcda","\ud83c\udcdb","\ud83c\udcdd","\ud83c\udcde","\ud83c\udcd1","\ud83c\udcc2","\ud83c\udcc3","\ud83c\udcc4","\ud83c\udcc5","\ud83c\udcc6","\ud83c\udcc7","\ud83c\udcc8","\ud83c\udcc9","\ud83c\udcca","\ud83c\udccb","\ud83c\udccd","\ud83c\udcce","\ud83c\udcc1","\ud83c\udcb2","\ud83c\udcb3","\ud83c\udcb4","\ud83c\udcb5","\ud83c\udcb6","\ud83c\udcb7","\ud83c\udcb8","\ud83c\udcb9","\ud83c\udcba","\ud83c\udcbb","\ud83c\udcbd","\ud83c\udcbe","\ud83c\udcb1","\ud83c\udca2","\ud83c\udca3","\ud83c\udca4","\ud83c\udca5","\ud83c\udca6","\ud83c\udca7","\ud83c\udca8","\ud83c\udca9","\ud83c\udcaa","\ud83c\udcab","\ud83c\udcad","\ud83c\udcae","\ud83c\udca1"],w=["\u24ff","\u2776","\u2777","\u2778","\u2779","\u277a","\u277b","\u277c","\u277d","\u277e","\u277f"],O=function(e){var t;switch(e){case-19:t="??";break;case-18:t="?c";break;case-17:t="?d";break;case-16:t="?h";break;case-15:t="?s";break;case-1:t="__";break;case 65:t="Xc";break;case 66:t="Xd";break;case 67:t="Xh";break;case 68:t="Xs";break;case 69:t="2p";break;case 70:t="3p";break;case 71:t="4p";break;case 72:t="5p";break;case 73:t="6p";break;case 74:t="7p";break;case 75:t="8p";break;case 76:t="9p"}if(!t)if(-14<=e&&e<-1)t=v[e- -14]+"?";else if(e<0||e>=65)t="??";else{var a=e%13,n=Math.floor(e/13);t=v[a]+y[n]}return t},j=function(e){if(2!==e.length)return-1;var t,a,n=e.charAt(0),r=e.charAt(1);switch(n){case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t=n-"2";break;case"t":case"T":t=8;break;case"j":case"J":t=9;break;case"q":case"Q":t=10;break;case"k":case"K":t=11;break;case"a":case"A":t=12;break;case"_":case"*":case"x":case"X":t=-2;break;default:t=-1}switch(r){case"c":case"C":a=0;break;case"d":case"D":a=1;break;case"h":case"H":a=2;break;case"s":case"S":a=3;break;case"_":case"*":case"x":case"X":a=4;break;case"p":case"P":a=-2;break;default:a=-1}return t>=0&&a>=0?13*a+t:-2===a?0<=t&&t<=7?69+t:-19:t<0&&0<=a&&a<4?-2===t?65+a:-18+a:-2===t&&4===a?-1:t>=0&&a<0?-14+t:-19},C=function(e,t){var a=[];for(e=e.trim().toLowerCase();e.length>0;){1===e.length&&(e+="_");var n=j(e.substr(0,2));a.push(n),e=(e=e.substring(2)).trim()}for(;a.length<t;)a.push(-1);return Object(p.List)(a)},S=function(e){for(var t=!1,a=0,n=0;n<e.size;n++){var r=e.get(n);if(0<=r&&r<52){if(a++,t)return!1}else if(69<=r&&r<=76);else{if(-1!==r)return!1;t=!0}}return a>0},x={settings:{type:"schema",schema:b},actionPath:{type:"value",persistent:!1,initValue:{value:"BB",label:"BB"}},tanking:{type:"value",persistent:!1,initValue:!1},tankingMs:{type:"value",persistent:!1,initValue:0},hand:{type:"value",persistent:!0,initValue:"______________"},handEval:{type:"value",persistent:!1,initValue:Object(p.Map)()},handEvalPlayers:{type:"value",persistent:!1,initValue:Object(p.Map)()},handResult:{type:"value",persistent:!1,initValue:Object(p.Map)()},handCombos:{type:"value",persistent:!1,initValue:Object(p.Map)()},handArr:{type:"formula",props:["hand"],recipe:function(e){return Object(p.List)(C(e.hand,7))}},handValid:{type:"formula",props:["handArr"],recipe:function(e){return S(e.handArr)}},handCardsCnt:{type:"formula",props:["handArr"],recipe:function(e){return function(e){for(var t=0,a=0;a<e.size;a++){var n=e.get(a);0<=n&&n<52&&t++}return t}(e.handArr)}},err:{type:"value",persistent:!1,initValue:""},currentSuit:{type:"value",persistent:!0,initValue:"s"}},T={tanking:{type:"value",persistent:!1,initValue:!1},tankingMs:{type:"value",persistent:!1,initValue:0},villain:{type:"collection",persistent:!0},hero:{type:"collection",persistent:!0},n:{type:"value",persistent:!0,initValue:0},ranks:{type:"value",persistent:!0,initValue:13},game:{type:"value",persistent:!0,initValue:""},warGames:{type:"value",persistent:!1,initValue:Object(p.List)()},warResultH:{type:"value",persistent:!1,initValue:Object(p.Map)()},warResultV:{type:"value",persistent:!1,initValue:Object(p.Map)()},warResultN:{type:"value",persistent:!1,initValue:Object(p.Map)()},err:{type:"value",persistent:!1,initValue:""}},A={args:{type:"value",persistent:!1,initValue:Object(p.fromJS)(function(e){e||(e=location.search);var t=e.substr(1),a={};return t&&t.split("&").forEach((function(e){var t=e.split("=");a[t[0]]=decodeURIComponent(t[1])})),a}())},selectedTabIndex:{type:"value",persistent:!0,initValue:0},zoneActions:{type:"value",persistent:!1,initValue:{}},zoneDistTables:{type:"value",persistent:!1,initValue:{}},home:{type:"schema",schema:x},war:{type:"schema",schema:T}},N=["home","zone","war","settings","credits","debug"],M=function(e,t,a){var n=W().get("args"),r=n.get("tab");if("true"===n.get("reset"))return window.confirm("This will clear all PoserJS saved data. Are you sure?")&&(V(I.init(a)),L()),void window.history.replaceState({},document.title,"/");try{if(r)for(var s=0;s<N.length;s++)r===N[s]&&V(I.value("selectedTabIndex",s));L()}catch(l){console.log("INIT ERROR:",l)}};setInterval((function(){try{if(n===s&&r===l)return;var e=B.liveState(l),t=B.persistableState(e),a=JSON.stringify(t);localStorage.setItem(s,a),n=s,r=l}catch(c){console.log("DUXEN ERROR: persistState: ",c)}}),1e3);var R,_=a(66),P=function(e){return e&&"object"===typeof e&&!Array.isArray(e)},F=function e(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];if(!n.length)return t;var s=n.shift();if(P(t)&&P(s))for(var l in s)P(s[l])?(t[l]||Object.assign(t,Object(_.a)({},l,{})),e(t[l],s[l])):Object.assign(t,Object(_.a)({},l,s[l]));return e.apply(void 0,[t].concat(n))},B=Object(m.createEngine)(A),I=B.actionFactory(),H=function(e){var t=e.repoReducer(),a=Object(d.a)(t);R=e.head(a.getState());var n=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){return}}("poserjs:0.0.4");if(n){var r=F(R.toJS(),n);a.dispatch(e.actionFactory().init(r))}return a.dispatch(e.actionFactory().refresh()),a}(B),V=function(e){return H.dispatch(e)},W=function(){return B.head(H.getState())},L=function(){return H.subscribe((function(){return function(e,t){s=e,l=t}("poserjs:0.0.4",H.getState())}))};M(B,H,R);a(395);var J=a(4),D=a(5),q=a(12),K=a(11),z=a(10);function G(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}var X=a(92),U=a.n(X),Q=G(),Y=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).code0="",n.comp0=null,n}return Object(D.a)(a,[{key:"render0",value:function(){var e=this.props,t=Object(z.a)({},e.style)||{},a=e.html,n=e.vertical,r=e.ball,s=!1,l=e.card||e.children,c=void 0!==e.code?e.code:j(l);e.handArr&&(function(e){return 0<=e&&e<52}(c)||function(e){return 69<=e&&e<=76}(c))&&e.handArr.includes(c)&&(s=!0),l=O(c);var o=a?function(e,t){var a;switch(e){case-19:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"?");break;case-18:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2663");break;case-17:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2666");break;case-16:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2665");break;case-15:a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"\u2660");break;case-1:a=i.a.createElement(i.a.Fragment,null,"_",t?i.a.createElement("br",null):null,"_");break;case 65:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2663");break;case 66:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2666");break;case 67:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2665");break;case 68:a=i.a.createElement(i.a.Fragment,null,t?i.a.createElement("br",null):null,"\u2660");break;case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:a=i.a.createElement(i.a.Fragment,null,t?String.fromCharCode("2".charCodeAt(0)+(e-69)):null,t?i.a.createElement("br",null):null,t?i.a.createElement(f.a,{icon:"user"}):w[2+e-69])}if(a);else if(0<=e&&e<65){var n=e%13;switch(Math.floor(e/13)){case 0:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2663");break;case 1:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2666");break;case 2:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2665");break;case 3:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"\u2660");break;case 4:a=i.a.createElement(i.a.Fragment,null,g[n],t?i.a.createElement("br",null):null,"x")}}else if(-14<=e&&e<-1){var r=e- -14;a=i.a.createElement(i.a.Fragment,null,g[r],t?i.a.createElement("br",null):null,"?")}else a=i.a.createElement(i.a.Fragment,null,"?",t?i.a.createElement("br",null):null,"?");return a}(c,n):function(e){return e<0||e>=k[e]?"\ud83c\udca0":k[e]}(c);t.color=s?"gainsboro":function(e){var t;if(e<0||e>=77)t="grey";else if(e<65){var a=Math.floor(e/13);t=E[a]}else if(65<=e&&e<=68){t=E[e-65]}else 69<=e&&e<=76?t="blue":e<77&&(t="grey");return t}(c);var u=r?a?U.a.htmlBall:U.a.ball:a?Q?U.a.htmlSquareMobile:U.a.htmlSquare:U.a.square;return e.click?i.a.createElement("button",{className:u,name:l,title:l,alt:l,onClick:e.click.bind(this,l),style:t},o):i.a.createElement("span",{className:u,name:l,title:l,alt:l,style:t},o)}},{key:"render",value:function(){var e=this.props,t=e.card||e.children,a=void 0!==e.code?e.code:j(t),n=e.handArr;return this.comp0&&this.code0===a&&this.handArr0===n||(this.code0=a,this.handArr0=n,this.comp0=this.render0()),this.comp0}}]),a}(c.Component),Z={fontSize:20,color:"white",padding:"0px"},$=function(e){return i.a.createElement("div",{style:Z},"Poser \xa0",i.a.createElement(Y,{style:Object(z.a)(Object(z.a)({},Z),{},{background:"white",margin:0,fontSize:18,height:24}),html:!0},"7d"),i.a.createElement(Y,{style:Object(z.a)(Object(z.a)({},Z),{},{background:"white",margin:0,fontSize:18,height:24}),html:!0},"2h"))},ee=a(34),te=a(3),ae=a.n(te),ne=a(17),re=function(e,t,a,n){return e.slice(0,t)+n+e.slice(t+Math.abs(a))},se=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],le=["c","d","h","s"];function ce(e,t){return 0<=e&&e<13&&0<=t&&t<4?e<<2|t:2<=e&&e<9&&13===t?e-2+69:14===e?59:63}function ie(e){var t,a,n=e.substr(0,1),r=e.substr(1,1);switch(n){case"2":t=0;break;case"3":t=1;break;case"4":t=2;break;case"5":t=3;break;case"6":t=4;break;case"7":t=5;break;case"8":t=6;break;case"9":t=7;break;case"t":case"T":t=8;break;case"j":case"J":t=9;break;case"q":case"Q":t=10;break;case"k":case"K":t=11;break;case"a":case"A":t=12;break;case"*":case"_":t=14;break;case"?":default:t=15}switch(r){case"c":case"C":a=0;break;case"d":case"D":a=1;break;case"h":case"H":a=2;break;case"s":case"S":a=3;break;case"p":case"P":a=13;break;case"*":case"_":a=14;break;case"?":default:a=15}return ce(t,a)}function oe(e){return function(e){return se[e>>2]}(e)+function(e){return le[3&e]}(e)}function ue(e){return se[e]}var he=268435455,de=0,me={ranks:268435455,suits:16383};function pe(){return{ranks:he,suits:de}}var be=[-16,-241,-3841,-61441,-983041,-15728641,-251658241],fe=[-4,-13,-49,-193,-769,-3073,-12289];function ve(e){if(!e||e.length<14)return[me,"not enough cards"];for(var t=pe(),a=0,n=0,r=0,s=0;s<e.length/2;s++){var l=s<<1,c=e.substr(l,2),i=ie(c);if(63===i)return[me,"bad card: "+c];if(!(69<=i&&i<=76)){if(59===i);else if(i>=32){var o=1<<i-32;if(0!==(n&o))return[me,"duplicate card: "+c];n|=o}else{var u=1<<i;if(0!==(a&u))return[me,"duplicate card: "+c];a|=u}t=ge(t,r,i),r++}}return[t,""]}function ge(e,t,a){return e.ranks=e.ranks&be[t]|function(e){return e>>2}(a)<<(t<<2),e.suits=e.suits&fe[t]|function(e){return 3&e}(a)<<(t<<1),e}function ye(e,t){return e.ranks>>(t<<2)&15}function Ee(e,t){return e.suits>>(t<<1)&3}function ke(e,t){return ce(ye(e,t),Ee(e,t))}function we(e){var t=ke(e,0),a=ke(e,1);return oe(t)+oe(a)}var Oe=[-16,-241,-3841,-61441,-983041],je=["1","2","2+2","3","S","F","3+2","4","SF"],Ce=["High","1 Pair","2 Pair","Set","Straight","Flush","Boat","Quads","StrFl"];function Se(e,t){return e&-16<<20|t<<20}function xe(e){return e>>20&15}function Te(e){return Ce[e]}function Ae(e){return je[e]}function Ne(e){return Te(xe(e))}function Me(e){return Ae(xe(e))}function Re(e,t,a){return e&Oe[t]|a<<(t<<2)}function _e(e,t){return e>>(t<<2)&15}function Pe(e){return ue(_e(e,4))+ue(_e(e,3))+ue(_e(e,2))+ue(_e(e,1))+ue(_e(e,0))}var Fe=new Array(65536);function Be(e){for(var t=-1;e>0;)t++,e>>=1;return t}function Ie(e){return Fe[e]}!function(){for(var e=0;e<65536;e++)Fe[e]=Be(e)}();var He=function(){function e(){Object(J.a)(this,e),this.rankCnts=new Array(13),this.suitCnts=new Array(4),this.suitMasks=new Array(4)}return Object(D.a)(e,[{key:"CalcHandRank",value:function(e){return this.calcHandRank(e,7)}},{key:"reset",value:function(){for(var e=0;e<this.rankCnts.length;e++)this.rankCnts[e]=0;for(var t=0;t<this.suitCnts.length;t++)this.suitCnts[t]=0;for(var a=0;a<this.suitMasks.length;a++)this.suitMasks[a]=0}},{key:"calcHandRank",value:function(e,t){this.reset();for(var a=1048575,n=0;n<t;n++){var r=ye(e,n),s=Ee(e,n);r<13&&(this.rankCnts[r]++,this.suitCnts[s]++,this.suitMasks[s]|=1<<r)}for(var l=0,c=0,i=0,o=0,u=0,h=0,d=0;d<13;d++){var m=this.rankCnts[d];0===m||(1===m?l|=1<<d:2===m?(c|=1<<d,u++):3===m?(i|=1<<d,h++):4===m&&(o|=1<<d))}for(var p,b=0,f=0;f<4;f++)if(this.suitCnts[f]>=5){b=this.suitMasks[f];break}0!==(8192&(p=0!==b?b<<1:(l|c|i)<<1))&&(p|=1);for(var v=0;p>=31;){var g=Ie(p);if(31===(31&p>>g-4)){v=g-1;break}p&=~(1<<g)}if(0!==v&&0!==b)a=Re(a=Se(a,8),4,v),a=Re(a,3,--v),a=Re(a,2,--v),a=Re(a,1,--v),0===v?v=12:v--,a=Re(a,0,v);else if(0!==o){a=Se(a,7);var y=Ie(o);a=Re(a,4,y),a=Re(a,3,y),a=Re(a,2,y),a=Re(a,1,y),a=Re(a,0,Ie(i|c|l))}else if(2===h){a=Se(a,6);var E=Ie(i);a=Re(a,4,E),a=Re(a,3,E),a=Re(a,2,E);var k=Ie(i&=~(1<<E));a=Re(a,1,k),a=Re(a,0,k)}else if(1===h&&u>0){a=Se(a,6);var w=Ie(i);a=Re(a,4,w),a=Re(a,3,w),a=Re(a,2,w);var O=Ie(c);a=Re(a,1,O),a=Re(a,0,O)}else if(0!==b){a=Se(a,5);var j=Ie(b);a=Re(a,4,j),a=Re(a,3,j=Ie(b&=~(1<<j))),a=Re(a,2,j=Ie(b&=~(1<<j))),a=Re(a,1,j=Ie(b&=~(1<<j))),a=Re(a,0,j=Ie(b&=~(1<<j)))}else if(0!==v)a=Re(a=Se(a,4),4,v),a=Re(a,3,--v),a=Re(a,2,--v),a=Re(a,1,--v),0===v?v=12:v--,a=Re(a,0,v);else if(0!==i){a=Se(a,3);var C=Ie(i);a=Re(a,4,C),a=Re(a,3,C),a=Re(a,2,C);var S=Ie(l);a=Re(a,1,S),a=Re(a,0,S=Ie(l&=~(1<<S)))}else if(u>1){a=Se(a,2);var x=Ie(c);a=Re(a,4,x),a=Re(a,3,x),a=Re(a,2,x=Ie(c&=~(1<<x))),a=Re(a,1,x),a=Re(a,0,Ie(l|(c&=~(1<<x))))}else if(u>0){a=Se(a,1);var T=Ie(c);a=Re(a,4,T),a=Re(a,3,T);var A=Ie(l);a=Re(a,2,A),a=Re(a,1,A=Ie(l&=~(1<<A))),a=Re(a,0,A=Ie(l&=~(1<<A)))}else{a=Se(a,0);var N=Ie(l);a=Re(a,4,N),a=Re(a,3,N=Ie(l&=~(1<<N))),a=Re(a,2,N=Ie(l&=~(1<<N))),a=Re(a,1,N=Ie(l&=~(1<<N))),a=Re(a,0,N=Ie(l&=~(1<<N)))}return a}}]),e}();function Ve(e){if(e===me)return[[],0,0,0];var t=new He,a=t.CalcHandRank(e),n=0,r=0,s=0,l=Object(p.SortedMap)(),c={hole:we(e),handRank:a,cat:Me(a),category:Ne(a),result:Pe(a),count:0};l=l.set(a,c);for(var i=0,o=0,u=0;u<7;u++){var h=ke(e,u);h<32?i|=1<<h:o|=1<<h-32}for(var d=e,m=1;m<52;m++){if(m<32){if(0!==(i&1<<m))continue}else if(0!==(o&1<<m-32))continue;for(var b=0;b<m;b++){if(b<32){if(0!==(i&1<<b))continue}else if(0!==(o&1<<b-32))continue;var f=b;d=ge(d,0,m),d=ge(d,1,f);var v=t.CalcHandRank(d),g=l.get(v);g?g.count++:(g={hole:we(d),handRank:v,cat:Me(v),category:Ne(v),result:Pe(v),count:1},l=l.set(v,g)),v>a?n++:v===a?r++:s++}}return[l.toIndexedSeq().reverse().toArray(),n,r,s]}var We=function(){function e(){Object(J.a)(this,e);var t=Date.now(),a=t+Math.floor(1e9*Math.random()),n=13*a+t+Math.floor(1e9*Math.random()),r=17*n+t+Math.floor(1e9*Math.random()),s=31*r+t+Math.floor(1e9*Math.random());this.seed(a,n,r,s)}return Object(D.a)(e,[{key:"seed",value:function(e,t,a,n){this.a=e,this.b=t,this.c=a,this.d=n}},{key:"next",value:function(){this.a>>>=0,this.b>>>=0,this.c>>>=0,this.d>>>=0;var e=this.a+this.b|0;return this.a=this.b^this.b>>>9,this.b=this.c+(this.c<<3)|0,this.c=this.c<<21|this.c>>>11,this.d=this.d+1|0,e=e+this.d|0,this.c=this.c+e|0,e>>>0}}]),e}(),Le=function(){function e(){Object(J.a)(this,e),this.mask0=0,this.mask1=0,this.rng=new We}return Object(D.a)(e,[{key:"mix",value:function(){this.mask0=0,this.mask1=0}},{key:"removeCard",value:function(e){this.setMask(e)}},{key:"setMask",value:function(e){59!==e&&(e<32?this.mask0|=1<<e:this.mask1|=1<<e-32)}},{key:"getMask",value:function(e){return e<32?this.mask0&1<<e:this.mask1&1<<e-32}},{key:"getNextCard",value:function(){for(;this.rng;){var e=63&this.rng.next();if(e<52&&0===this.getMask(e))return this.setMask(e),e}return 61}}]),e}();function Je(e,t){return{nsims:e,players:t,card1:59,card2:59,board1:59,board2:59,board3:59,board4:59,board5:59}}function De(e,t){return{request:e,err:t,finalPlayers:0,games:0,wins:0,ties:0,pties:0,losses:0,wp:0,wo:0,er:0}}function qe(e,t){var a=ve(t),n=a[0],r=a[1];return r||(e.card1=ke(n,0),e.card2=ke(n,1),e.board1=ke(n,2),e.board2=ke(n,3),e.board3=ke(n,4),e.board4=ke(n,5),e.board5=ke(n,6),"")}var Ke=function(){function e(){Object(J.a)(this,e)}return Object(D.a)(e,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"eval",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r,s,l,c,i,o,u,h,d,m,p,b,f,v,g,y,E,k,w,O,j;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pe(),s=0,l=0,c=0,i=0,o=new Le,u=a.nsims,2<=(h=a.players)&&h<=9){e.next=11;break}return n.err="invalid number of players",e.abrupt("return");case 11:return e.next=13,this.sleep(0);case 13:d=0;case 14:if(!(d<u)){e.next=48;break}if(0!==(131071&d)){e.next=18;break}return e.next=18,this.sleep(0);case 18:for(o.mix(),o.removeCard(a.card1),o.removeCard(a.card2),o.removeCard(a.board1),o.removeCard(a.board2),o.removeCard(a.board3),o.removeCard(a.board4),o.removeCard(a.board5),m=59===a.card1?o.getNextCard():a.card1,p=59===a.card2?o.getNextCard():a.card2,b=59===a.board1?o.getNextCard():a.board1,f=59===a.board2?o.getNextCard():a.board2,v=59===a.board3?o.getNextCard():a.board3,g=59===a.board4?o.getNextCard():a.board4,y=59===a.board5?o.getNextCard():a.board5,r=ge(r,2,b),r=ge(r,3,f),r=ge(r,4,v),r=ge(r,5,g),r=ge(r,6,y),r=ge(r,0,m),r=ge(r,1,p),E=t.CalcHandRank(r),k=E,w=0,O=1;O<h;O++)r=ge(r,0,o.getNextCard()),r=ge(r,1,o.getNextCard()),(j=t.CalcHandRank(r))>k?(k=j,w=0):j===k&&w++;E===k?w>0?(l++,c+=1/(w+1)):s++:i++;case 45:d++,e.next=14;break;case 48:n.request=a,n.games=a.nsims,n.wins=s,n.ties=l,n.pties=c,n.losses=i;case 54:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),ze=function(){function e(){Object(J.a)(this,e)}return Object(D.a)(e,[{key:"CalcHandRank",value:function(e){return function(e){for(var t=new Array(7),a=0;a<7;a++)t[a]=ke(e,a);var n=function(e){var t,a,n,r,s,l,c=!1,i=!1,o=e.length>=5?5:e.length,u=new Array(6),h=new Array(13),d=new Array(6),m=new Array(6),p=0,b=new Array(4),f=0;for(t=0;t<13;t++)h[t]=0;for(t=0;t<4;t++)b[t]=0;for(t=0;t<=5;t++)u[t]=0;for(t=0;t<e.length;t++)n=Ue(e[t]),r=Qe(e[t]),h[n]++,u[h[n]]++,0!==h[n]&&u[h[n]-1]--,++b[r]>=5&&(i=!0,f=r);s=0!==h[12]?1:0;for(var v=0;v<6;v++)d[v]=13,m[v]=13;for(t=0;t<13;t++)0!==h[t]?++s>=5&&(c=!0,p=t):s=0,0!==(a=h[t])&&(m[a]=d[a],d[a]=t);var g=new Array(1);g[0]=p,0!==u[5]?(l=3341637,l+=d[5]):c&&i&&function(e,t,a){var n,r,s,l=new Array(13);for(n=0;n<13;n++)l[n]=!1;for(n=0;n<e.length;n++)Qe(e[n])===a&&(l[Ue(e[n])]=!0);for(r=l[12]?1:0,s=0,n=0;n<13;n++)l[n]?++r>=5&&(s=n):r=0;return 0!==s&&(t[0]=s,!0)}(e,g,f)?(p=g[0],l=2970344,l+=p):0!==u[4]?(l=2599051,l+=13*d[4],m[4]=13,l+=Ge(h,1,d[4],m[4])):u[3]>=2?(l=2227758,l+=13*d[3],l+=m[3]):1===u[3]&&0!==u[2]?(l=2227758,l+=13*d[3],l+=d[2]):i?(l=1856465,l+=function(e,t,a){var n,r=0,s=new Array(13);for(n=0;n<13;n++)s[n]=!1;for(n=0;n<e.length;n++)Qe(e[n])===a&&(s[Ue(e[n])]=!0);n=12;for(;0!==t;){for(;!1===s[n];)n--;t--,r+=Xe(13,t)*n,n--}return r}(e,5,f)):c?(l=1485172,l+=p):1===u[3]?(l=1113879,l+=13*d[3]*13,l+=Ge(h,o-3,d[3],m[3])):u[2]>=2?(l=742586,l+=13*d[2]*13,l+=13*m[2],l+=Ge(h,o-4,d[2],m[2])):1===u[2]?(l=371293,l+=13*d[2]*13*13,l+=Ge(h,o-2,d[2],m[2])):(l=0,l+=Ge(h,o,d[2],m[2]));return l}(t),r=Math.floor(n/371293),s=(n%=371293)%13,l=(n=Math.floor(n/13))%13,c=(n=Math.floor(n/13))%13,i=(n=Math.floor(n/13))%13,o=(n=Math.floor(n/13))%13;n=Math.floor(n/13),6===r?(o=i=c=l,l=s):1===r?o=i:3===r?o=i=c:7===r?o=i=c=l:2===r?(o=i=c,c=l):(4===r||8===r)&&(s=0===(l=(c=(i=(o=s)-1)-1)-1)?12:l-1);var u=1048575;return u=Re(u=Se(u,r),0,s),u=Re(u,1,l),u=Re(u,2,c),u=Re(u,3,i),u=Re(u,4,o)}(e)}}]),e}();function Ge(e,t,a,n){for(var r=12,s=0;0!==t;){for(;0===e[r]||r===a||r===n;)r--;s+=Xe(13,--t)*r,r--}return s}function Xe(e,t){for(var a=1;t-- >0;)a*=e;return a}function Ue(e){return Math.floor(e/4)}function Qe(e){return e%4}var Ye=function(){function e(){Object(J.a)(this,e),this.handEvaluator=new Ke}return Object(D.a)(e,[{key:"MakeHandCalculator",value:function(e){var t;switch(e){case"basic":t=new He;break;case"fast":throw new Error("calculator type not supported in web browser: "+e);case"loki":t=new ze;break;default:throw new Error("invalid calculator type: "+e)}return t}},{key:"HandCalc",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r,s,l,c,i,o,u,h,d,m,p,b,f,v,g,y,E;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ve(a),s=r[0],l=r[1],c="",i=16777215,o="",u="",h="",d="",l?c=l:(m=this.MakeHandCalculator(n),i=m.CalcHandRank(s),u=Me(i),h=Ne(i),d=Pe(i),o=we(s)),p=s!==me,b=Ve(s),f=b[0],v=b[1],g=b[2],y=b[3],E={type:"handCalc",err:l,handStr:a,hand:s,handValid:p,handErr:c,handRank:i,hole:o,handCat:u,handCategory:h,handResult:d,handCombos:f,betterCombos:v,equalCombos:g,worseCombos:y},e.abrupt("return",E);case 18:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r,s){var l,c,i,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this.MakeHandCalculator(s),c=Je(a,n),i=qe(c,r),o=De(c,i),i){e.next=7;break}return e.next=7,this.handEvaluator.eval(l,c,o);case 7:return e.abrupt("return",nt(o));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r){var s,l,c,i,o,u,h;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=this.MakeHandCalculator(r),l=[],c="",i=2;case 4:if(!(i<=9)){e.next=19;break}if(o=Je(a,i),!(c=qe(o,n))){e.next=9;break}return e.abrupt("break",19);case 9:return u=De(o,c),e.next=12,this.handEvaluator.eval(s,o,u);case 12:if(l.push(nt(u)),!u.err){e.next=16;break}return c=u.err,e.abrupt("break",19);case 16:i++,e.next=4;break;case 19:return h={type:"handEvalPlayers",err:c,handEvals:l},e.abrupt("return",h);case 21:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}(),Ze=a(332),$e=a(68),et=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.call(this,"wasm/wasm_worker.js")}return a}(function(){function e(t){Object(J.a)(this,e),this.workerScriptUrl=t,this.id=0,this.promises={}}return Object(D.a)(e,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"checkCalcType",value:function(e){switch(e){case"basic":case"loki":break;case"fast":throw new Error("Calculator not supported in web browser: "+e);default:throw new Error("Unknown calculator type: "+e)}}},{key:"_setup",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t=this;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.worker){e.next=5;break}return e.next=3,this.sleep(0);case 3:e.next=7;break;case 5:this.worker=new Worker(this.workerScriptUrl),this.worker.onmessage=function(e){var a=e.data,n=a.id,r=t.promises[n];delete t.promises[n],r(a.result)};case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(e,t,a){var n=this;return new Promise((function(r){if(n.worker){n.promises[n.id]=r;var s={api:e,id:n.id,apiOptions:t,args:Object($e.a)(a)};n.worker.postMessage(s),n.id++}}))}},{key:"HandCalc",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.checkCalcType(n),e.next=4,this._setup();case 4:return e.next=6,this.post("HandCalc",t,[a,n]);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r,s){var l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.checkCalcType(s),e.next=4,this._setup();case 4:return e.next=6,this.post("HandEval",t,[a,n,r,s]);case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r){var s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.checkCalcType(r),e.next=4,this._setup();case 4:return e.next=6,this.post("HandEvalPlayers",t,[a,n,r]);case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}()),tt=function(){function e(t){Object(J.a)(this,e),this.jsApi=new Ye,this.restApi=new Ze.a(t),this.wasmApi=new et}return Object(D.a)(e,[{key:"getApiInterface",value:function(e){var t;switch(e.apiType){case"js":t=this.jsApi;break;case"wasm":t=this.wasmApi;break;case"rest":t=this.restApi;break;default:throw new Error("invalid apiType: "+e.apiType)}return t}},{key:"HandCalc",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.getApiInterface(t),e.next=4,r.HandCalc(t,a,n);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r,s){var l;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=this.getApiInterface(t),e.next=4,l.HandEval(t,a,n,r,s);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"HandEvalPlayers",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r){var s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this.getApiInterface(t),e.next=4,s.HandEvalPlayers(t,a,n,r);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"WarGames",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.getApiInterface(t),e.next=4,a.WarGames(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"HandWar",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r,s,l,c,i){var o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=this.getApiInterface(t),e.next=4,o.HandWar(t,a,n,r,s,l,c,i);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",at(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n,r,s,l,c,i){return e.apply(this,arguments)}}()}]),e}();function at(e){return e.startsWith("Error: ")&&(e=e.substring(7)),{type:"err",err:e}}function nt(e){var t={type:"handEval",request:e.request,err:e.err,finalPlayers:e.finalPlayers?e.finalPlayers:e.request.players,games:e.games,wins:e.wins,ties:e.ties,pties:e.pties,losses:e.losses,wp:0,wo:0,er:0};return st(t),t}function rt(e,t){e.request||(e.request=t.request),""===e.err&&(e.err=t.err),e.games+=t.games,e.wins+=t.wins,e.ties+=t.ties,e.pties+=t.pties,e.losses+=t.losses}function st(e){e.wp=(e.wins+e.pties)/e.games,e.wo=0===e.wp?1/0:1/e.wp-1;var t=1*e.finalPlayers;e.er=e.wp*t-1}var lt,ct=function(){function e(t,a){Object(J.a)(this,e),this.workers=t,this.poserApis=new Array(t);for(var n=0;n<t;n++)this.poserApis[n]=new tt(a)}return Object(D.a)(e,[{key:"HandCalc",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.poserApis[0].HandCalc(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"HandEval",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r,s){var l,c,i,o,u,h,d,m,p;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l=this.workers,c=Math.floor(a/l),i=a-c*l,o=Array(l),u=0;u<l;u++)h=c+(u<i?1:0),o[u]=this.poserApis[u].HandEval(t,h,n,r,s);d=null,m=0;case 7:if(!(m<l)){e.next=21;break}return e.prev=8,e.next=11,o[m];case 11:p=e.sent,d?!d.err&&p.err?d.err=p.err:d.err||"handEval"!==d.type||"handEval"!==p.type||rt(d,p):d=p,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),d?d.err||(d.err=e.t0.toString()):d=at(e.t0.toString());case 18:m++,e.next=7;break;case 21:return d&&"handEval"===d.type&&!d.err&&st(d),e.abrupt("return",d||at("no results collected"));case 23:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"getHandStr",value:function(e,t){for(var a=e,n=a.length;n>0&&"_"===a.charAt(n-1);)n--;var r=a.substring(0,n),s=a.substring(n);r.endsWith("p")&&(r=r.substr(0,r.length-2));var l=r.lastIndexOf("p");return l<=0||r.charCodeAt(l-1)-48<t?"":r+(String.fromCharCode(48+t)+"p")+s}},{key:"HandEvalPlayers",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n,r){var s,l,c,i,o,u,h,d,m,p;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],l="",c=Array(0),"p"!==(i=n.trim().toLowerCase()).charAt(1))for(o=2;o<=9;o++)c[o-2]=this.HandEval(t,a,o,i,r);else for(u=2;u<=9;u++)(h=this.getHandStr(i,u))&&(c[u-2]=this.HandEval(t,a,u,h,r));d=0;case 6:if(!(d<c.length)){e.next=15;break}return e.next=9,c[d];case 9:m=e.sent,s.push(m),m.err&&(l=m.err);case 12:d++,e.next=6;break;case 15:return p={type:"handEvalPlayers",err:l,handEvals:s},e.abrupt("return",p);case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),e}(),it=(a(269),B.subEngine("home")),ot=it.actionFactory(),ut=it.subEngine("settings"),ht=ut.actionFactory(),dt=!1,mt=function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n,r,s,l,c,i,o,u,h,d,m,b,f,v,g,y,E,k,w,O,j,C,S,x;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ut.get(W()),r=n.get("apiType"),s=n.get("apiServer"),l=n.get("calcType"),c=n.get("nSims"),i=n.get("workers"),o=n.get("jwtSecret"),u=n.get("players"),h=n.get("threads"),d=n.get("playersChart"),m=n.get("playersTable"),!it.get(W(),"tanking")){e.next=15;break}return dt=!0,e.abrupt("return");case 15:return lt&&lt.workers===i||(lt=new ct(i,o)),e.prev=16,b=Date.now(),f="",t(ot.value("tanking",!0)),v="rest"===r?{apiType:r,server:s,threads:h}:{apiType:r},e.next=23,lt.HandCalc(v,a,l);case 23:if(!(g=e.sent).err){e.next=28;break}f=g.err,e.next=48;break;case 28:return y=g.handCombos,t(ot.value("handCombos",y)),delete g.handCombos,t(ot.value("handResult",g)),e.next=34,lt.HandEval(v,c,u,a,l);case 34:if(!(E=e.sent).err){e.next=39;break}f=E.err,e.next=48;break;case 39:if(E=Object(p.fromJS)(E),k=Object(p.OrderedMap)(),t(ot.value("handEval",E)),!d&&!m){e.next=47;break}return e.next=45,lt.HandEvalPlayers(v,c,a,l);case 45:if((w=e.sent).err)f=w.err;else for(O=0;O<w.handEvals.length;O++)j=w.handEvals[O],C=j.finalPlayers,j=Object(p.fromJS)(j),k=k.set(C,j);case 47:t(ot.value("handEvalPlayers",k));case 48:t(ot.value("err",f)),t(ot.value("tanking",!1)),S=Date.now(),t(ot.value("tankingMs",S-b)),dt&&(dt=!1,bt(t)),e.next=61;break;case 55:e.prev=55,e.t0=e.catch(16),x=e.t0.toString(),t(ot.value("err",x)),t(ot.value("tanking",!1)),dt&&(dt=!1,bt(t));case 61:case"end":return e.stop()}}),e,null,[[16,55]])})));return function(t,a){return e.apply(this,arguments)}}(),pt=function(e,t){e(ot.value("hand",t)),S(C(t,7))?mt(e,t):e(ot.value("handResult",{}))},bt=function(e){var t=it.get(W(),"hand");0!==t.length&&pt(e,t)},ft=function(e,t){for(var a=W(),n=it.get(a,"hand"),r=it.get(a,"handCardsCnt"),s=n.length,l=s,c=n,i=0;i<t.length;i++){var o=t[i],u=c.indexOf(o),h=j(o);if(u>=0)s=u,l=u+o.length,o=69<=h&&h<=76?"":"__";else{if(r>=7&&!(69<=h&&h<=76))continue;var d=c.indexOf("__");d>=0&&(s=d,l=69<=h&&h<=76?s:s+2)}c=re(c,s,l-s,o)}pt(e,c)},vt=Object(h.b)((function(e,t){return a=it.get(it.head(e)),{zoneActions:(n=it.head(e)).get("zoneActions"),zoneDistTables:n.get("zoneDistTables"),actionPath:a.get("actionPath"),hand:a.get("hand"),handArr:a.get("handArr"),handValid:a.get("handValid"),handEval:a.get("handEval"),handEvalPlayers:a.get("handEvalPlayers"),handResult:a.get("handResult"),handCombos:a.get("handCombos"),handCardsCnt:a.get("handCardsCnt"),err:a.get("err"),currentSuit:a.get("currentSuit"),settings:a.get("settings"),tanking:a.get("tanking"),tankingMs:a.get("tankingMs")};var a,n}),(function(e,t){return{setActionPath:function(t){return e(ot.value("actionPath",t))},setHand:function(t){return pt(e,t)},runHand:function(t){return mt(e,t)},incPlayers:function(){var t=it.get(W(),"hand"),a=ut.get(W(),"players");a<2?(e(ht.value("players",2)),pt(e,t)):a<9&&(e(ht.value("players",a+1)),pt(e,t))},decPlayers:function(){var t=it.get(W(),"hand"),a=ut.get(W(),"players");a>9?(e(ht.value("players",9)),pt(e,t)):a>2&&(e(ht.value("players",a-1)),pt(e,t))},clear:function(){pt(e,"______________")},recalc:function(){bt(e)},del:function(){var t=it.get(W(),"hand");if(0!==t.length){for(var a=t.length;"_"===t.substr(a-1,1);)a--;var n="__";if(a>0){var r=1;if(a>=2){var s=j(t.substr(a-2,2));0<=s&&s<52||-1===s?r=2:69<=s&&s<=76&&(r=2,n="")}var l=re(t,a-r,r,n);pt(e,l)}}},addCard:function(t){ft(e,[t])},addRandom:function(){for(var t=new Le,a=it.get(W(),"handArr"),n=0,r=0;r<a.size;r++){var s=a.get(r);0<=s&&s<52&&(t.removeCard(s),n++)}for(var l=[],c=n;c<7;c++){var i=O(t.getNextCard());l.push(i)}ft(e,l)},setCurrentSuit:function(t){e(ot.value("currentSuit",t))}}})),gt=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).hand0="",n.comp0=null,n}return Object(D.a)(a,[{key:"render0",value:function(){for(var e=this.props,t=e.hand||e.children,a=e.handArr?e.handArr:Object(p.List)(C(t,2)),n=0,r=0;r<a.size;r++){var s=a.get(r);if(-1<=s&&s<52&&++n>=2){n=r+1;break}}var l=0;return i.a.createElement("div",null,a.size>0?a.slice(0,n).map((function(e){return i.a.createElement(Y,{key:l++,html:!0,code:e})})):i.a.createElement(Y,{key:l++,html:!0,code:-1}),a.size<=2?null:i.a.createElement(i.a.Fragment,null,"\xa0\xa0",a.slice(n).map((function(e){return i.a.createElement(Y,{key:l++,html:!0,code:e})}))))}},{key:"render",value:function(){var e=this.props,t=e.hand||e.children;return this.hand0&&this.hand0===t||(this.hand0=t,this.comp0=this.render0()),this.comp0}}]),a}(c.Component),yt=a(202),Et=a.n(yt),kt=function(e){var t;switch(e){case"SF":t="#ff4e4e";break;case"4":t="#cf9cff";break;case"3+2":t="#9c9cff";break;case"F":t="#ff9c9c";break;case"S":t="#9cffff";break;case"3":t="#9cff9c";break;case"2+2":t="#ffcf9c";break;case"2":t="#ffff9c";break;case"1":t="white";break;case"error":t="pink";break;default:t="grey"}return t},wt=function(e){var t;switch(e){case"error":t=Et.a.err;break;default:t=Et.a.cat}return t},Ot=function(e){return i.a.createElement("span",{title:e.category,style:Object(z.a)(Object(z.a)({},e.style),{},{backgroundColor:kt(e.cat)}),className:wt(e.cat)},"\xa0",e.children,"\xa0")},jt=function(e){var t,a={fontSize:18,height:26},n=e.handResult,r=e.handEval,s=e.handCardsCnt,l=e.settings;e.err?t=i.a.createElement(Ot,{style:a,cat:"error"},e.err):s<2?t=i.a.createElement(Ot,{style:a,cat:"1"},"Enter more cards ..."):e.handValid?e.tanking&&e.settings.get("nSims")>=5e5?t=i.a.createElement(Ot,{style:a,cat:"F"},"Tanking ..."):n.isEmpty()?t=i.a.createElement(Ot,{style:a,cat:"error"},"no result"):n.get("handValid")||(t=i.a.createElement(Ot,{style:a,cat:"error"},n.get("handErr"))):t=i.a.createElement(Ot,{style:a,cat:"1"},"Enter missing cards");var c=r.get("er"),o=r.get("wp"),u=r.get("wo"),h=c>=.25?"3":c<=-.25?"F":c>=0?"1":"2";return i.a.createElement(i.a.Fragment,null,t||i.a.createElement("div",null,i.a.createElement(Y,{title:"Hole Card1",style:a,html:!0},n.get("hole").substr(0,2)),i.a.createElement(Y,{title:"Hole Card2",style:a,html:!0},n.get("hole").substr(2,2)),"\xa0",s>=5?i.a.createElement(Ot,{title:"Category",style:a,cat:n.get("handCat")},n.get("handCategory")):null,"\xa0",s>=5?i.a.createElement(Ot,{title:"Result",style:a,cat:n.get("handCat")},n.get("handResult")):null,"\xa0",l.get("latency")?i.a.createElement(Ot,{title:"Latency",style:a,cat:"1"},Math.floor(e.tankingMs/10)/100,"s"):null),i.a.createElement("div",null,i.a.createElement(Ot,{title:"Return value (%)",style:a,cat:h},"ER ",parseFloat(100*c).toFixed(0),"%"),"\xa0",i.a.createElement(Ot,{title:"Win probabilty (%)",style:a,cat:h},"WP ",parseFloat(100*o).toFixed(0),"%"),"\xa0",i.a.createElement(Ot,{title:"Win odds (loss : win) presented as n : 1",style:a,cat:h},"WO ",u>1e3?">100":u>10?parseFloat(u).toFixed(0):parseFloat(u).toFixed(2),":1")))},Ct=a(21),St=a(88),xt=a.n(St),Tt=function(e){var t=e.handEval;if(!t)return null;var a=t.getIn(["request","players"]),n=t.get("heroWpCats"),r=t.get("heroLpCats"),s=t.get("villainWpCats"),l=t.get("villainLpCats");if(!n)return null;var c=n.map((function(e,t){return{cat:Ae(t),hlp:-Math.floor(1e4*r.get(t))/100,hwp:Math.floor(1e4*e)/100,her:Math.floor(e*(a-2)*1e4)/100,vlp:-Math.floor(1e4*l.get(t))/100,vwp:Math.floor(1e4*s.get(t))/100,ver:Math.floor(-l.get(t)*(a-2)*1e4)/100}})).toIndexedSeq().toArray();return i.a.createElement(Ct.b,{style:{fontSize:12},className:xt.a.chart,layout:"horizontal",width:320,height:250,data:c,stackOffset:"sign",margin:{top:5,right:5,left:5,bottom:5}},i.a.createElement(Ct.c,{stroke:"#c0c0c0",strokeDasharray:"3 3"}),i.a.createElement(Ct.i,{dataKey:"cat"}),i.a.createElement(Ct.j,{width:40,unit:"%",yAxisId:"left"}),i.a.createElement(Ct.d,null),i.a.createElement(Ct.h,null),i.a.createElement(Ct.a,{yAxisId:"left",type:"monotone",dataKey:"hlp",stackId:"h",fill:"#339933"}),i.a.createElement(Ct.a,{yAxisId:"left",type:"monotone",dataKey:"hwp",stackId:"h",fill:"green"}),i.a.createElement(Ct.a,{yAxisId:"left",type:"monotone",dataKey:"her",stackId:"h",fill:"lightgreen"}),i.a.createElement(Ct.a,{yAxisId:"left",type:"monotone",dataKey:"vlp",stackId:"v",fill:"#3333FF"}),i.a.createElement(Ct.a,{yAxisId:"left",type:"monotone",dataKey:"vwp",stackId:"v",fill:"blue"}),i.a.createElement(Ct.a,{yAxisId:"left",type:"monotone",dataKey:"ver",stackId:"v",fill:"lightblue"}))},At=(a(79),function(e,t,a){var n=e.get(t);if(!n)return"";var r=n.get(a);return r||(r=n.get(a.toString())),r?(100*r).toFixed(2)+"%":""}),Nt=function(e,t){var a=e.get(t);if(!a)return"";for(var n=0,r=0;r<a.size;r++)n+=a.get(r);return(100*n).toFixed(2)+"%"},Mt=function(e){var t=e.handResult,a=e.settings;if(t.isEmpty())return null;var n=e.handEval;if(!n)return null;var r=1;return i.a.createElement("div",null,a.get("catsChart")||a.get("catsTable")?i.a.createElement("h3",null,"Categories"):null,a.get("catsChart")?i.a.createElement(Tt,e):null,a.get("catsTable")?i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:2,title:"Hero",className:"center"},"Hero"),i.a.createElement("th",{rowSpan:2,className:"center"},"Cat"),i.a.createElement("th",{colSpan:2,title:"Villain",className:"center"},"Villain")),i.a.createElement("tr",null,i.a.createElement("th",{title:"Hero Wins",className:"center"},"Win"),i.a.createElement("th",{title:"Hero Losses",className:"center"},"Loss"),i.a.createElement("th",{title:"Villain Wins",className:"center"},"Win"),i.a.createElement("th",{title:"Villain Losses",className:"center"},"Loss"))),i.a.createElement("tbody",null,Object(p.List)([0,1,2,3,4,5,6,7,8]).map((function(e){return i.a.createElement("tr",{key:r++},i.a.createElement("td",{className:"right"},At(n,"heroWpCats",e)),i.a.createElement("td",{className:"right"},At(n,"heroLpCats",e)),i.a.createElement("td",{title:"Category",className:"center"},i.a.createElement(Ot,{cat:Ae(e)},Te(e))),i.a.createElement("td",{className:"right"},At(n,"villainWpCats",e)),i.a.createElement("td",{className:"right"},At(n,"villainLpCats",e)))})).toIndexedSeq()),i.a.createElement("tfoot",null,i.a.createElement("tr",{className:"strong"},i.a.createElement("th",{title:"Hero Wins",className:"center"},Nt(n,"heroWpCats")),i.a.createElement("th",{title:"Hero Losses",className:"center"},Nt(n,"heroLpCats")),i.a.createElement("th",{className:"center"},"Total"),i.a.createElement("th",{title:"Villain Wins",className:"center"},Nt(n,"villainWpCats")),i.a.createElement("th",{title:"Villain Losses",className:"center"},Nt(n,"villainLpCats"))))):null)},Rt=function(e){var t=e.handResult;if(t.isEmpty())return null;if(!t.get("handValid"))return null;if(e.handEvalPlayers.isEmpty())return null;var a=e.handEvalPlayers.map((function(e){var t=e.get("er"),a=e.get("wp"),n=e.get("wo");return{players:e.get("finalPlayers"),er:Math.floor(1e4*t)/100,wp:Math.floor(1e4*a)/100,wo:Math.floor(100*(n>100?100:n))/100}})).toIndexedSeq().toArray();return i.a.createElement(Ct.f,{style:{fontSize:12},className:xt.a.chart,width:320,height:250,data:a,margin:{top:5,right:20,left:20,bottom:5}},i.a.createElement(Ct.c,{stroke:"#c0c0c0",strokeDasharray:"3 3"}),i.a.createElement(Ct.i,{dataKey:"players",stroke:"black"}),i.a.createElement(Ct.j,{width:30,stroke:"green",unit:"%",yAxisId:"left"}),i.a.createElement(Ct.j,{width:30,stroke:"red",unit:":1",yAxisId:"right",orientation:"right"}),i.a.createElement(Ct.d,null),i.a.createElement(Ct.h,null),i.a.createElement(Ct.g,{yAxisId:"left",y:0,stroke:"black",strokeDasharray:"8 4"}),i.a.createElement(Ct.e,{yAxisId:"left",type:"monotone",dataKey:"er",stroke:"green"}),i.a.createElement(Ct.e,{yAxisId:"left",type:"monotone",dataKey:"wp",stroke:"blue"}),i.a.createElement(Ct.e,{yAxisId:"right",type:"monotone",dataKey:"wo",stroke:"red"}))},_t=function(e){var t=e.handResult,a=e.settings;if(t.isEmpty())return null;if(!t.get("handValid"))return null;if(e.handEvalPlayers.isEmpty())return null;var n=1;return i.a.createElement("div",null,a.get("playersChart")||a.get("playersTable")?i.a.createElement("h3",null,"Players"):null,a.get("playersChart")?i.a.createElement(Rt,e):null,a.get("playersTable")?i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"center"},"Players"),i.a.createElement("th",{title:"Return value (%)",className:"center"},"ER"),i.a.createElement("th",{title:"Win probabilty (%)",className:"center"},"WP"),i.a.createElement("th",{title:"Win odds (loss : win) presented as n : 1",className:"center"},"WO"))),i.a.createElement("tbody",null,e.handEvalPlayers.map((function(t){var a=t.get("er"),r=t.get("wp"),s=t.get("wo"),l=a>=.25?"3":a<=-.25?"F":a>=0?"1":"2",c=t.get("finalPlayers")===e.handEval.get("finalPlayers")?{backgroundColor:"yellow"}:{};return i.a.createElement("tr",{style:c,key:n++},i.a.createElement("td",{className:"center"},t.get("finalPlayers")),i.a.createElement("td",{title:"Expected Return (%)",className:"right"},i.a.createElement(Ot,{cat:l},parseFloat(100*a).toFixed(0),"%")),i.a.createElement("td",{title:"Win probabilty (%)",className:"right"},i.a.createElement(Ot,{cat:l},parseFloat(100*r).toFixed(0),"%")),i.a.createElement("td",{title:"Win odds (loss : win) presented as n : 1",className:"right"},i.a.createElement(Ot,{cat:l},s>1e3?">100":s>10?parseFloat(s).toFixed(0):parseFloat(s).toFixed(2),":1")))})).toIndexedSeq())):null)},Pt=function(e){var t=e.handResult;if(t.isEmpty())return null;if(!t.get("handValid"))return null;var a=t.get("handRank"),n=t.get("betterCombos")+t.get("equalCombos")+t.get("worseCombos"),r=e.handCombos,s=0,l=0,c={fontSize:18,padding:0};return i.a.createElement("div",null,i.a.createElement("h3",null,"Combos"),i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"center"},"N"),i.a.createElement("th",{className:"center"},"Hole"),i.a.createElement("th",{className:"center"},"\xd7"),i.a.createElement("th",{className:"center"},"Cat"),i.a.createElement("th",{className:"center"},"Cards"),i.a.createElement("th",{className:"center"},"%"))),i.a.createElement("tbody",null,r.map((function(e){var t=100*(n-l)/n,r=e.get("count"),o=e.get("handRank");return l+=r,i.a.createElement("tr",{style:a===o?{backgroundColor:"yellow"}:{},key:s++},i.a.createElement("td",{className:"right"},s),i.a.createElement("td",{className:"center"},i.a.createElement(Y,{style:Object(z.a)(Object(z.a)({},c),{},{background:"transparent",margin:0,height:24}),html:!0},e.get("hole").substr(0,2)),i.a.createElement(Y,{style:Object(z.a)(Object(z.a)({},c),{},{background:"transparent",margin:0,height:24}),html:!0},e.get("hole").substr(2,2)),"\xa0"),i.a.createElement("td",{className:"right"},r>0?r:null),i.a.createElement("td",{className:"center"},i.a.createElement(Ot,{cat:e.get("cat"),category:e.get("category")},e.get("category"))),i.a.createElement("td",{className:"center"},i.a.createElement(Ot,{cat:e.get("cat"),category:e.get("category")},e.get("result"))),i.a.createElement("td",{className:"right"},parseFloat(t).toFixed(2)))})))))},Ft=a(108),Bt=a.n(Ft),It=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"inc",value:function(){this.props.incPlayers()}},{key:"dec",value:function(){this.props.decPlayers()}},{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement(Ot,{style:{fontSize:20,height:32},cat:"1"},this.props.children?i.a.createElement(i.a.Fragment,null,this.props.children,"\xa0"):null,this.props.players),"\xa0",i.a.createElement("button",{className:Bt.a.button,title:"Decrease number of players",onClick:this.dec.bind(this)},i.a.createElement(f.a,{icon:"user-minus"})),i.a.createElement("button",{className:Bt.a.button,title:"Increase number of players",onClick:this.inc.bind(this)},i.a.createElement(f.a,{icon:"user-plus"})))}}]),a}(c.Component),Ht=a(69),Vt=a.n(Ht),Wt=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"clear",value:function(e){this.props.clear()}},{key:"del",value:function(e){this.props.del()}},{key:"recalc",value:function(e){this.props.recalc()}},{key:"addRandom",value:function(e){this.props.addRandom()}},{key:"render",value:function(){var e=this.props,t=e.settings;return i.a.createElement("div",null,e.tanking,i.a.createElement("button",{className:Vt.a.button,title:"Clear cards",onClick:this.clear.bind(this)},i.a.createElement(f.a,{icon:"trash-alt"})),i.a.createElement("button",{className:Vt.a.button,title:"Delete the rightmost card",onClick:this.del.bind(this)},i.a.createElement(f.a,{icon:"backspace"})),i.a.createElement("button",{className:Vt.a.button,title:"Add random cards",onClick:this.addRandom.bind(this)},i.a.createElement(f.a,{icon:"random"})),"\xa0",t.get("playersButtons")?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(It,{players:e.settings.get("players"),incPlayers:e.incPlayers,decPlayers:e.decPlayers},"Players:")),i.a.createElement("button",{title:"Recalcuate",className:e.tanking?Vt.a.button+" "+Vt.a.running:Vt.a.button,onClick:this.recalc.bind(this)},i.a.createElement(f.a,{icon:"calculator"})))}}]),a}(c.Component),Lt=function(e){return i.a.createElement("div",null,e.settings.get("playersButtons")?i.a.createElement("div",null,i.a.createElement(Y,Object.assign({},e,{card:"9p"})),i.a.createElement(Y,Object.assign({},e,{card:"8p"})),i.a.createElement(Y,Object.assign({},e,{card:"7p"})),i.a.createElement(Y,Object.assign({},e,{card:"6p"})),i.a.createElement(Y,Object.assign({},e,{card:"5p"})),i.a.createElement(Y,Object.assign({},e,{card:"4p"})),i.a.createElement(Y,Object.assign({},e,{card:"3p"})),i.a.createElement(Y,Object.assign({},e,{card:"2p"}))):null,i.a.createElement("div",null,i.a.createElement(Y,Object.assign({},e,{card:"As"})),i.a.createElement(Y,Object.assign({},e,{card:"Ks"})),i.a.createElement(Y,Object.assign({},e,{card:"Qs"})),i.a.createElement(Y,Object.assign({},e,{card:"Js"})),i.a.createElement(Y,Object.assign({},e,{card:"Ts"})),i.a.createElement(Y,Object.assign({},e,{card:"9s"})),i.a.createElement(Y,Object.assign({},e,{card:"8s"})),i.a.createElement(Y,Object.assign({},e,{card:"7s"})),i.a.createElement(Y,Object.assign({},e,{card:"6s"})),i.a.createElement(Y,Object.assign({},e,{card:"5s"})),i.a.createElement(Y,Object.assign({},e,{card:"4s"})),i.a.createElement(Y,Object.assign({},e,{card:"3s"})),i.a.createElement(Y,Object.assign({},e,{card:"2s"}))),i.a.createElement("div",null,i.a.createElement(Y,Object.assign({},e,{card:"Ah"})),i.a.createElement(Y,Object.assign({},e,{card:"Kh"})),i.a.createElement(Y,Object.assign({},e,{card:"Qh"})),i.a.createElement(Y,Object.assign({},e,{card:"Jh"})),i.a.createElement(Y,Object.assign({},e,{card:"Th"})),i.a.createElement(Y,Object.assign({},e,{card:"9h"})),i.a.createElement(Y,Object.assign({},e,{card:"8h"})),i.a.createElement(Y,Object.assign({},e,{card:"7h"})),i.a.createElement(Y,Object.assign({},e,{card:"6h"})),i.a.createElement(Y,Object.assign({},e,{card:"5h"})),i.a.createElement(Y,Object.assign({},e,{card:"4h"})),i.a.createElement(Y,Object.assign({},e,{card:"3h"})),i.a.createElement(Y,Object.assign({},e,{card:"2h"}))),i.a.createElement("div",null,i.a.createElement(Y,Object.assign({},e,{card:"Ad"})),i.a.createElement(Y,Object.assign({},e,{card:"Kd"})),i.a.createElement(Y,Object.assign({},e,{card:"Qd"})),i.a.createElement(Y,Object.assign({},e,{card:"Jd"})),i.a.createElement(Y,Object.assign({},e,{card:"Td"})),i.a.createElement(Y,Object.assign({},e,{card:"9d"})),i.a.createElement(Y,Object.assign({},e,{card:"8d"})),i.a.createElement(Y,Object.assign({},e,{card:"7d"})),i.a.createElement(Y,Object.assign({},e,{card:"6d"})),i.a.createElement(Y,Object.assign({},e,{card:"5d"})),i.a.createElement(Y,Object.assign({},e,{card:"4d"})),i.a.createElement(Y,Object.assign({},e,{card:"3d"})),i.a.createElement(Y,Object.assign({},e,{card:"2d"}))),i.a.createElement("div",null,i.a.createElement(Y,Object.assign({},e,{card:"Ac"})),i.a.createElement(Y,Object.assign({},e,{card:"Kc"})),i.a.createElement(Y,Object.assign({},e,{card:"Qc"})),i.a.createElement(Y,Object.assign({},e,{card:"Jc"})),i.a.createElement(Y,Object.assign({},e,{card:"Tc"})),i.a.createElement(Y,Object.assign({},e,{card:"9c"})),i.a.createElement(Y,Object.assign({},e,{card:"8c"})),i.a.createElement(Y,Object.assign({},e,{card:"7c"})),i.a.createElement(Y,Object.assign({},e,{card:"6c"})),i.a.createElement(Y,Object.assign({},e,{card:"5c"})),i.a.createElement(Y,Object.assign({},e,{card:"4c"})),i.a.createElement(Y,Object.assign({},e,{card:"3c"})),i.a.createElement(Y,Object.assign({},e,{card:"2c"}))))},Jt=function(e){var t=e.currentSuit,a=Object(z.a)(Object(z.a)({},e.style),{},{lineHeight:"0px",fontSize:28}),n=e.settings.get("playersButtons"),r=function(e){return n?e:null};return i.a.createElement("div",null,i.a.createElement("div",null,r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"9P"}))),"\xa0",i.a.createElement(Y,Object.assign({},e,{style:"s"===t?Object(z.a)({},e.style):Object(z.a)(Object(z.a)({},a),{},{backgroundColor:"lightgrey"}),card:"s"===t?"As":"Xs"})),i.a.createElement(Y,Object.assign({},e,{style:"h"===t?Object(z.a)({},e.style):Object(z.a)(Object(z.a)({},a),{},{backgroundColor:"lightgrey"}),card:"h"===t?"Ah":"Xh"})),i.a.createElement(Y,Object.assign({},e,{style:"d"===t?Object(z.a)({},e.style):Object(z.a)(Object(z.a)({},a),{},{backgroundColor:"lightgrey"}),card:"d"===t?"Ad":"Xd"})),i.a.createElement(Y,Object.assign({},e,{style:"c"===t?Object(z.a)({},e.style):Object(z.a)(Object(z.a)({},a),{},{backgroundColor:"lightgrey"}),card:"c"===t?"Ac":"Xc"})),"\xa0",r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"5P"})))),i.a.createElement("div",null,r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"8P"}))),"\xa0",i.a.createElement(Y,Object.assign({},e,{card:"K"+t})),i.a.createElement(Y,Object.assign({},e,{card:"Q"+t})),i.a.createElement(Y,Object.assign({},e,{card:"J"+t})),i.a.createElement(Y,Object.assign({},e,{card:"T"+t})),"\xa0",r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"4P"})))),i.a.createElement("div",null,r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"7P"}))),"\xa0",i.a.createElement(Y,Object.assign({},e,{card:"9"+t})),i.a.createElement(Y,Object.assign({},e,{card:"8"+t})),i.a.createElement(Y,Object.assign({},e,{card:"7"+t})),i.a.createElement(Y,Object.assign({},e,{card:"6"+t})),"\xa0",r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"3P"})))),i.a.createElement("div",null,r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"6P"}))),"\xa0",i.a.createElement(Y,Object.assign({},e,{card:"5"+t})),i.a.createElement(Y,Object.assign({},e,{card:"4"+t})),i.a.createElement(Y,Object.assign({},e,{card:"3"+t})),i.a.createElement(Y,Object.assign({},e,{card:"2"+t})),"\xa0",r(i.a.createElement(Y,Object.assign({},e,{style:Object(z.a)({},a),card:"2P"})))))},Dt=a(341),qt={A:0,K:1,Q:2,J:3,T:4,9:5,8:6,7:7,6:8,5:9,4:10,3:11,2:12},Kt=["A","K","Q","J","T","9","8","7","6","5","4","3","2"];function zt(e){var t={};return Object.keys(e).forEach((function(a){var n=e[a];Object.keys(n).forEach((function(e){var t=n[e].act;!function(e){for(var t=0;t<13;t++)for(var a=0;a<13;a++){var n=Kt[t>a?a:t]+Kt[t>a?t:a]+(a>t?"s":""),r=e[n];r?(r.hand=n,r.allCnt=0):e[n]={hand:n,cnt:0,allCnt:0,profit:0}}}(t),Object.keys(t).forEach((function(e){var a=t[e];Object.keys(n).forEach((function(t){var r=n[t].act[e];r&&(a.allCnt?a.allCnt+=r.cnt:a.allCnt=r.cnt)}))}))})),Object.keys(n).forEach((function(e){n[e].cnt;var r=n[e].act;t[a+"/"+e]=function(e,t){for(var a=new Array(13),n=0;n<a.length;n++){var r=new Array(13);a[n]=r;for(var s=0;s<r.length;s++){var l=Kt[n>s?s:n]+Kt[n>s?n:s]+(s>n?"s":"");r[s]={hand:l,cnt:0,allCnt:0,profit:0,prc:0,aprc:0}}}var c=0;Object.keys(t).forEach((function(e){var n=e.substr(0,1),r=e.substr(1,1),s=e.length>2&&"s"===e.substr(2,1),l=qt[s?r:n],i=a[qt[s?n:r]][l],o=t[e];c+=o.cnt,i.cnt+=o.cnt,i.allCnt+=o.allCnt,i.profit+=o.profit}));for(var i=0;i<a.length;i++)for(var o=a[i],u=0;u<o.length;u++){var h=o[u];h.prc=Math.round(1e4*h.cnt/c)/100,h.allCnt>0&&(h.aprc=Math.round(1e4*h.cnt/h.allCnt)/100)}return a}(0,r)}))})),t}var Gt,Xt=a(59),Ut=a.n(Xt),Qt=function(e){var t="";return Kt.forEach((function(a,n){return Kt.forEach((function(r,s){var l=e.getIn([s,n]),c=l?l.get("aprc"):0,i=Math.round(100*c)/100;if(i>0){var o=n>s?r+a+"s":a+r+"o";t.length>0&&(t+=","),t+=100===i?o:"["+i+"]"+o+"[/"+i+"]"}}))})),t},Yt=function(e){var t=e.distTable,a=e.item,n="aprc"===a?[0,20,80]:"wp"===a?[1,10,25]:[.1,.5,1.5];function r(e,r){var s={};e===r&&(s.borderWidth=3);var l=t.getIn([r,e]),c=l?l.get(a):0;return 0===c||(s.backgroundColor=c<=n[0]?"white":c<=n[1]?"#ffff9c":c<=n[2]?"#ffcf9c":"#9cff9c"),s}return t?i.a.createElement("div",null,i.a.createElement("table",{className:Ut.a.table},i.a.createElement("thead",null,i.a.createElement("tr",{className:Ut.a.tr},i.a.createElement("th",{key:-1,title:"",className:Ut.a.th}),Kt.map((function(e,t){return i.a.createElement("th",{key:t,title:e,className:Ut.a.th},e)})))),i.a.createElement("tbody",null,Kt.map((function(e,n){return i.a.createElement("tr",{key:n,className:Ut.a.tr},i.a.createElement("th",{key:-1,title:e,className:Ut.a.th},e),Kt.map((function(e,s){return i.a.createElement("td",{key:s,title:e,className:Ut.a.td,style:r(s,n)},function(e,n){var r=t.getIn([n,e]),s=r?r.get(a):0,l=Math.round(100*s)/100;return 0===l?"":"prc"===a||"aprc"===a?l+"%":l}(s,n))})))})))),"aprc"===a?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null),i.a.createElement(Dt.CopyToClipboard,{text:Qt(t)},i.a.createElement("button",null,"Copy Flopzilla Ranges"))):null,i.a.createElement("p",null)):null},Zt=a(35),$t=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.setActionPath(t)},e}return Object(D.a)(a,[{key:"render",value:function(){var e=this.props,t=e.actionPath,a=e.actionPaths;this.options=Object.keys(a.toJS()).sort().map((function(e){return{value:e,label:e}}));var n=t.toJS();return i.a.createElement("span",{style:{width:150}},i.a.createElement(Zt.a,{value:n,onChange:this.handleChange,options:this.options}))}}]),a}(c.Component),ea=["A","K","Q","J","T","9","8","7","6","5","4","3","2"];function ta(e,t){return aa.apply(this,arguments)}function aa(){return(aa=Object(ne.a)(ae.a.mark((function e(t,a){var n,r,s,l,c,i,o,u,h,d,m,b,f,v,g,y,E;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.get("apiType"),r=t.get("apiServer"),s=t.get("workers"),l=t.get("jwtSecret"),c=t.get("threads"),i=t.get("calcType"),o=t.get("nSims"),u=t.get("players"),h="rest"===n?{apiType:n,server:r,threads:c}:{apiType:n},Gt&&Gt.workers===s||(Gt=new ct(s,l)),d=new Array(13),m=0;case 12:if(!(m<13)){e.next=30;break}b=new Array(13),d[m]=b,f=0;case 16:if(!(f<13)){e.next=27;break}return b[f]=0,v=ea[m]+"h"+ea[f]+(f>m?"h":"s")+a.substring(4),e.next=21,Gt.HandEval(h,o,u,v,i);case 21:g=e.sent,g.err||(y=Math.round(1e4*g.er)/100,E=Math.round(1e4*g.wp)/100,b[f]={hand:v,er:y,wp:E});case 24:f++,e.next=16;break;case 27:m++,e.next=12;break;case 30:return e.abrupt("return",Object(p.fromJS)(d));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var na=a(342),ra=a.n(na);var sa,la=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={probTable:null},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props).setHand(t.hand),e.next=4,ta(t.settings,t.hand);case 4:a=e.sent,this.setState({probTable:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"click",value:function(e){var t=this.props;switch(e){case"Xs":t.setCurrentSuit("s");break;case"Xh":t.setCurrentSuit("h");break;case"Xd":t.setCurrentSuit("d");break;case"Xc":t.setCurrentSuit("c");break;case"?":break;default:t.addCard(e)}}},{key:"render",value:function(){var e=this.props,t=e.settings,a=e.zone,n=e.zoneActions,r=e.zoneDistTables,s=e.actionPath,l=e.setActionPath,c=this.state.probTable;return i.a.createElement("div",null,i.a.createElement("div",{className:ra.a.sticky},i.a.createElement(gt,e),i.a.createElement("hr",null)),i.a.createElement("h3",null,i.a.createElement(Wt,e)),i.a.createElement("h3",null,i.a.createElement(jt,e)),i.a.createElement("h3",null,t.get("denseKeyboard")?i.a.createElement(Lt,{handArr:e.handArr,click:this.click.bind(this),style:{width:"7%"},html:!0,vertical:!0,settings:e.settings}):i.a.createElement(Jt,{currentSuit:e.currentSuit,handArr:e.handArr,click:this.click.bind(this),style:{height:40,width:40,margin:2,fontSize:"20px"},html:!0,vertical:!1,settings:e.settings})),a?i.a.createElement("h3",null,i.a.createElement("div",null,n?i.a.createElement($t,{actionPath:s,setActionPath:l,actionPaths:n}):null),function(e){for(var t=[],a=2;a<e.length;a++){var n=e.substr(a,1);"F"!==n&&t.push(e.substr(0,a)+"/"+n)}return t}(s.get("value")).map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("p",null,"Player ",t+1,": ",e),i.a.createElement(Yt,{distTable:r.get(e),item:"prc"}),i.a.createElement(Yt,{distTable:r.get(e),item:"cnt"}),i.a.createElement(Yt,{distTable:r.get(e),item:"profit"}),i.a.createElement("p",null,"Hands Win Probability"),c?i.a.createElement(Yt,{distTable:c,item:"wp"}):"Tanking...")})),i.a.createElement("p",null,"Raise:"),i.a.createElement(Yt,{distTable:r.get(s.get("value")+"/R"),item:"aprc"}),i.a.createElement(Yt,{distTable:r.get(s.get("value")+"/R"),item:"prc"}),i.a.createElement("p",null,"Call:"),i.a.createElement(Yt,{distTable:r.get(s.get("value")+"/C"),item:"aprc"}),i.a.createElement(Yt,{distTable:r.get(s.get("value")+"/C"),item:"prc"})):null,i.a.createElement("h3",null,i.a.createElement(_t,e)),i.a.createElement("h3",null,i.a.createElement(Mt,e)),e.settings.get("combosTable")&&e.handCardsCnt>=5?i.a.createElement("h3",null,i.a.createElement(Pt,e)):null)}}]),a}(c.Component),ca=a(205),ia={simple0:{name:"Simple0",params:{},title:"No Decisions Simple Poker War",desc:["Summary","* players make no decisions","* ranks - number of ranks (a rank can be a value in the interval [0 .. ranks-1])","* players - number of players [2 .. MaxPlayers]","* antes only","* no bets","* unlimited deck, unlimited number of cards in each rank","","Rules","* players post antes in the amount of 1 unit","* each player is dealt 1 card","* no betting, no decisions, everybody goes straight to contest","* during contest each player shows their card, no folding, no mucking","* the player or players with the highest number will take or split the pot"]},simple1:{name:"Simple1",params:{pt:!0},title:"Limp In or Fold Simple Poker War",desc:["Summary","* each players makes one and only one decision: limp in, or fold","* ranks - number of ranks (a rank can be a value in the interval [0 .. ranks-1])","* players - number of players [2 .. MaxPlayers]","* antes optional","* unlimited deck, unlimited number of cards in each rank","Rules","* players post antes in the amount of 1 bet","* each player is dealt 1 card","* each players makes one and only one decision: limp in, or fold","* decision is binding, but secret until the contest","* no betting in order, everybody goes straight to contest","* during contest each player reveals their decision at the same time","* the player or players with the highest number will take or split the pot"]}},oa=B.subEngine("war"),ua=oa.actionFactory(),ha=B.subEngine("home").subEngine("settings"),da=ha.actionFactory(),ma=!1,pa=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,s,l,c,i,o,u,h,d,m,p,b;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=W(),n=ha.get(a),r=n.get("apiType"),s=n.get("apiServer"),l=n.get("workers"),c=n.get("jwtSecret"),i=n.get("players"),o=n.get("threads"),u=oa.get(a,"tanking"),h=oa.get(a,"game"),d=n.get("nSims"),m=oa.get(a,"n"),p=oa.get(a,"ranks"),!u){e.next=16;break}return ma=!0,e.abrupt("return");case 16:return sa&&sa.workers===l||(sa=new tt(c)),e.prev=17,e.delegateYield(ae.a.mark((function e(){var n,l,c,u,b,f,v,g,y,E,k,w,O,j,C,S,x,T,A,N,M,R,_,P,F,B,I;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now(),l="",t(ua.value("tanking",!0)),c="rest"===r?{apiType:r,server:s,threads:o}:{apiType:r},u=oa.get(a,"villain"),b=u.toJS(),f=JSON.stringify(b),v=oa.get(a,"hero"),g=v.toJS(),y=JSON.stringify(g),E=ia[h],k=Object(ca.a)(v.keySeq().filter((function(e){return E.params[e]}))),e.prev=12,k.s();case 14:if((w=k.n()).done){e.next=30;break}O=w.value,j=0;case 17:if(ma||!(j<p)){e.next=28;break}return(C=v.toJS())[O]=j,S=JSON.stringify(C),e.next=23,sa.HandWar(c,d,i,f,S,m,p,h);case 23:(x=e.sent).err?l=x.err:t(ua.value("warResultH",x));case 25:j++,e.next=17;break;case 28:e.next=14;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(12),k.e(e.t0);case 35:return e.prev=35,k.f(),e.finish(35);case 38:T=Object(ca.a)(u.keySeq().filter((function(e){return E.params[e]}))),e.prev=39,T.s();case 41:if((A=T.n()).done){e.next=57;break}N=A.value,M=0;case 44:if(ma||!(M<p)){e.next=55;break}return(R=u.toJS())[N]=M,_=JSON.stringify(R),e.next=50,sa.HandWar(c,d,i,_,y,m,p,h);case 50:(P=e.sent).err?l=P.err:t(ua.value("warResultV",P));case 52:M++,e.next=44;break;case 55:e.next=41;break;case 57:e.next=62;break;case 59:e.prev=59,e.t1=e.catch(39),T.e(e.t1);case 62:return e.prev=62,T.f(),e.finish(62);case 65:F=0;case 66:if(!(F<p)){e.next=74;break}return e.next=69,sa.HandWar(c,d,i,f,y,F,p,h);case 69:(B=e.sent).err?l=B.err:t(ua.value("warResultN",B));case 71:F++,e.next=66;break;case 74:t(ua.value("err",l)),t(ua.value("tanking",!1)),I=Date.now(),t(ua.value("tankingMs",I-n)),ma&&(ma=!1,ba(t));case 79:case"end":return e.stop()}}),e,null,[[12,32,35,38],[39,59,62,65]])}))(),"t0",19);case 19:e.next=27;break;case 21:e.prev=21,e.t1=e.catch(17),b=e.t1.toString(),t(ua.value("err",b)),t(ua.value("tanking",!1)),ma&&(ma=!1,ba(t));case 27:case"end":return e.stop()}}),e,null,[[17,21]])})));return function(t){return e.apply(this,arguments)}}(),ba=function(e){pa(e)},fa=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,s,l,c,i,o,u,h,d,m,p;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=W(),n=ha.get(a),r=n.get("apiType"),s=n.get("apiServer"),l=n.get("workers"),c=n.get("jwtSecret"),i=n.get("threads"),sa&&sa.workers===l||(sa=new tt(c)),e.prev=8,o=Date.now(),u="",t(ua.value("tanking",!0)),h="rest"===r?{apiType:r,server:s,threads:i}:{apiType:r},e.next=15,sa.WarGames(h);case 15:(d=e.sent).err?u=d.err:t(ua.value("warGames",d)),t(ua.value("err",u)),t(ua.value("tanking",!1)),m=Date.now(),t(ua.value("tankingMs",m-o)),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(8),p=e.t0.toString(),t(ua.value("err",p)),t(ua.value("tanking",!1));case 28:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}(),va=Object(h.b)((function(e,t){return a=oa.get(oa.head(e)),oa.head(e),{err:a.get("err"),game:a.get("game"),players:ha.get(W()).get("players"),villain:a.get("villain"),hero:a.get("hero"),n:a.get("n"),ranks:a.get("ranks"),warGames:a.get("warGames"),warResultH:a.get("warResultH"),warResultV:a.get("warResultV"),warResultN:a.get("warResultN"),settings:a.get("settings"),tanking:a.get("tanking"),tankingMs:a.get("tankingMs")};var a}),(function(e,t){return{init:function(){return function(e){e(ua.insert("villain","pt",1)),e(ua.insert("hero","pt",2)),pa(e)}(e)},setGame:function(t){return function(e,t){e(ua.value("game",t)),pa(e)}(e,t)},setPlayers:function(t){return function(e,t){e(t<2?da.value("players",2):t>9?da.value("players",9):da.value("players",t)),pa(e)}(e,t)},setVillain:function(t,a){return function(e,t,a){e(ua.insert("villain",t,a)),pa(e)}(e,t,a)},setHero:function(t,a){return function(e,t,a){e(ua.insert("hero",t,a)),pa(e)}(e,t,a)},setN:function(t){return function(e,t){e(ua.value("n",t)),pa(e)}(e,t)},setRanks:function(t){return function(e,t){var a=W();oa.get(a,"n")>=t&&e(ua.value("n",t-1)),e(ua.value("ranks",t)),pa(e)}(e,t)},runWar:function(){return pa(e)},fetchGames:function(){return fa(e)}}})),ga=a(109),ya=(a(329),function(e){var t=e.neg,a=e.list.filter((function(e){return e})).map((function(a){var n=e.getX(a),r=a.get("er"),s=a.get("wp"),l=a.get("wo"),c={n:n,er:Math.floor(1e4*r)/100,wp:Math.floor(1e4*s)/100,wo:Math.floor(100*(l>100?100:l))/100};return t&&(c.er=-c.er,c.wp=-c.wp,c.wo=-c.wo),c})).toIndexedSeq().toArray();return i.a.createElement(Ct.f,{style:{fontSize:12},className:xt.a.chart,width:320,height:250,data:a,margin:{top:5,right:20,left:20,bottom:5}},i.a.createElement(Ct.c,{stroke:"#c0c0c0",strokeDasharray:"3 3"}),i.a.createElement(Ct.i,{dataKey:"n",stroke:"black"}),i.a.createElement(Ct.j,{width:30,stroke:"black",unit:"%",yAxisId:"left"}),i.a.createElement(Ct.d,null),i.a.createElement(Ct.h,null),i.a.createElement(Ct.g,{yAxisId:"left",y:0,stroke:"black",strokeDasharray:"8 4"}),i.a.createElement(Ct.e,{name:"Return (%)",yAxisId:"left",type:"monotone",dataKey:"er",stroke:"black"}))}),Ea=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setGame(e.value)},n.state={options:[],optionsMap:{}},n}return Object(D.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props.games;if(e.games!==n){var r=[],s={};n.forEach((function(e){var t={value:e,label:e};r.push(t),s[e]=t})),this.setState({options:r,optionsMap:s})}}},{key:"render",value:function(){var e=this.state,t=e.options,a=e.optionsMap[this.props.game]||t[0];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Zt.a,{value:a,onChange:this.handleChange,options:t}))}}]),a}(c.Component),ka=ga.a.createSliderWithTooltip(ga.a),wa={pt:"Playing Threshold"},Oa=Object.keys(wa),ja=Object(p.Map)().withMutations((function(e){Oa.forEach((function(t){return e.set(t,Object(p.List)())}))})),Ca=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={list:Object(p.List)(),heroMap:ja,villainMap:ja},n}return Object(D.a)(a,[{key:"componentDidMount",value:function(){this.props.init(),this.props.fetchGames()}},{key:"componentDidUpdate",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r,s,l,c,i,o,u,h;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.props,s=r.warResultH,l=r.warResultV,c=r.warResultN,t.warResultH===s&&t.warResultV===l&&t.warResultN===c||(i=this.state,o=i.list,u=i.heroMap,h=i.villainMap,Oa.forEach((function(e){var t=u.get(e);t||(t=Object(p.List)()),t=t.set(s.getIn(["request","hero",e]),s),u=u.set(e,t);var a=h.get(e);a||(a=Object(p.List)()),a=a.set(l.getIn(["request","villain",e]),l),h=h.set(e,a)})),this.setState({list:o.set(c.getIn(["request","n"]),c),heroMap:u,villainMap:h}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setGame",value:function(e){this.setState({list:Object(p.List)(),heroMap:ja,villainMap:ja}),this.props.setGame(e)}},{key:"onSliderPlayersChange",value:function(e){var t=this.props.setPlayers;this.setState({list:Object(p.List)(),heroMap:ja,villainMap:ja}),t(e)}},{key:"onSliderRanksChange",value:function(e){var t=this.props.setRanks;this.setState({list:Object(p.List)(),heroMap:ja,villainMap:ja}),t(e)}},{key:"onSliderVillain",value:function(e,t){var a=this.props.setVillain,n=this.state.villainMap;this.setState({list:Object(p.List)(),heroMap:ja,villainMap:ja.set(e,n.get(e))}),a(e,t)}},{key:"onSliderHero",value:function(e,t){var a=this.props.setHero,n=this.state.heroMap;this.setState({list:Object(p.List)(),heroMap:ja.set(e,n.get(e)),villainMap:ja}),a(e,t)}},{key:"onSliderNChange",value:function(e){var t=this.props.setN;this.setState({heroMap:ja,villainMap:ja}),t(e)}},{key:"render",value:function(){var e=this,t={width:"90%",padding:10,textAlign:"center"},a=this.props,n=a.err,r=a.game,s=a.players,l=a.n,c=a.villain,o=a.hero,u=a.ranks,h=a.tanking,d=a.tankingMs,m=a.warGames,p={};Object($e.a)(Array(8).keys()).forEach((function(e){return p[e+2]=(e+2).toString()}));var b={};Object($e.a)(Array(99).keys()).forEach((function(e){return b[e+2]=(e+2).toString()}));var f={};Object($e.a)(Array(u+1).keys()).forEach((function(e){return f[e]=e.toString()}));var v={};Object($e.a)(Array(u).keys()).forEach((function(e){return v[e]=e.toString()}));var g=ia[r]||{params:{},title:"",desc:[]},y=g.title,E=g.desc.map((function(e,t){return i.a.createElement("div",{key:t},e)})),k=Oa.filter((function(e){return g.params[e]}));return i.a.createElement("div",null,i.a.createElement("h3",null,"Poker War"),i.a.createElement("div",null,i.a.createElement("div",null,h?"Tanking ...":(n||"OK")+" ("+d/1e3+"s)"),i.a.createElement("p",null),i.a.createElement("table",{style:{width:"90%"},className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Parameter"),i.a.createElement("th",null,"Value"),i.a.createElement("th",null,"Slider"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{fontWeight:"bold"}},"Game"),i.a.createElement("td",{className:"right"}),i.a.createElement("td",{style:{width:"90%",padding:10,textAlign:"left"}},i.a.createElement(Ea,{games:m,game:r,setGame:this.setGame.bind(this)}),i.a.createElement("p",null),i.a.createElement("p",{style:{fontWeight:"bold"}},y),E)),i.a.createElement("tr",null,i.a.createElement("td",{style:{fontWeight:"bold"}},"Players"),i.a.createElement("td",{className:"right"},s),i.a.createElement("td",{style:t},i.a.createElement(ka,{height:50,min:2,max:9,marks:p,value:s,step:1,dots:!0,included:!1,onChange:this.onSliderPlayersChange.bind(this)}),i.a.createElement("br",null))),i.a.createElement("tr",null,i.a.createElement("td",{style:{fontWeight:"bold"}},"Ranks"),i.a.createElement("td",{className:"right"},u),i.a.createElement("td",{style:t},i.a.createElement(ka,{min:2,max:100,marks:b,value:u,step:1,dots:!0,included:!1,onChange:this.onSliderRanksChange.bind(this)}),i.a.createElement("br",null))),k.map((function(a,n){return i.a.createElement("tr",{key:n},i.a.createElement("td",{style:{fontWeight:"bold"}},"h",a),i.a.createElement("td",{className:"right"},o.get(a)),i.a.createElement("td",{style:t},"Hero ",wa[a],i.a.createElement("br",null),i.a.createElement(ka,{min:0,max:u-1,marks:f,value:o.get(a),step:1,dots:!0,included:!1,onChange:function(t){return e.onSliderHero(a,t)}}),i.a.createElement("br",null)))})),k.map((function(a,n){return i.a.createElement("tr",{key:n},i.a.createElement("td",{style:{fontWeight:"bold"}},"v",a),i.a.createElement("td",{className:"right"},c.get(a)),i.a.createElement("td",{style:t},"Villain ",wa[a],i.a.createElement("br",null),i.a.createElement(ka,{min:0,max:u-1,marks:f,value:c.get(a),step:1,dots:!0,included:!1,onChange:function(t){return e.onSliderVillain(a,t)}}),i.a.createElement("br",null)))})),i.a.createElement("tr",null,i.a.createElement("td",{style:{fontWeight:"bold"}},"N"),i.a.createElement("td",{className:"right"},l),i.a.createElement("td",{style:t},i.a.createElement(ka,{min:-1,max:u-1,marks:v,value:l,step:1,dots:!0,included:!1,onChange:this.onSliderNChange.bind(this)}),i.a.createElement("br",null)))))),i.a.createElement("h3",null,"Results"),i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement(i.a.Fragment,null,k.map((function(t,a){return i.a.createElement("td",{className:"center",key:a},i.a.createElement("h3",null,"Hero's Profit by Playing Threshold"),i.a.createElement("h3",null,"(when Villain ",t," = ",c.get(t),")"),l>=0?i.a.createElement("h3",null,"(N = ",l,")"):null,i.a.createElement(ya,{list:e.state.heroMap.get(t),getX:function(e){return e.getIn(["request","hero",t])}}))})),k.map((function(t,a){return i.a.createElement("td",{className:"center",key:a},i.a.createElement("h3",null,"Villain's Profit by Playing Threshold"),i.a.createElement("h3",null,"(when Hero's ",t," = ",o.get(t),")"),l>=0?i.a.createElement("h3",null,"(N = ",l,")"):null,i.a.createElement(ya,{neg:!0,list:e.state.villainMap.get(t),getX:function(e){return e.getIn(["request","villain",t])}}))})),i.a.createElement("td",{className:"center"},i.a.createElement("h3",null,"Hero's Profit by Rank"),k.map((function(e,t){return i.a.createElement("div",null,i.a.createElement("h3",null,"(Hero's ",e," = ",o.get(e),")"),i.a.createElement("h3",null,"(Villain ",e," = ",c.get(e),")"))})),i.a.createElement(ya,{list:this.state.list,getX:function(e){return e.getIn(["request","n"])}})))))))}}]),a}(c.Component),Sa={js:{value:"js",label:"JavaScript"},wasm:{value:"wasm",label:"WebAssembly"},rest:{value:"rest",label:"REST"}},xa={basic:{value:"basic",label:"Basic"},fast:{value:"fast",label:"Fast"},loki:{value:"loki",label:"Loki"}},Ta=B.subEngine("home.settings"),Aa=Ta.actionFactory(),Na=Object(h.b)((function(e,t){return a=Ta.get(Ta.head(e)),Ta.head(e),{apiType:a.get("apiType"),apiTypeLabel:Sa[a.get("apiType")].label,apiServer:a.get("apiServer"),jwtSecret:a.get("jwtSecret"),calcType:a.get("calcType"),calcTypeLabel:xa[a.get("calcType")].label,nSims:a.get("nSims"),workers:a.get("workers"),threads:a.get("threads"),players:a.get("players"),catsChart:a.get("catsChart"),catsTable:a.get("catsTable"),playersChart:a.get("playersChart"),playersTable:a.get("playersTable"),combosTable:a.get("combosTable"),denseKeyboard:a.get("denseKeyboard"),playersButtons:a.get("playersButtons"),devMode:a.get("devMode"),latency:a.get("latency")};var a}),(function(e,t){return{setApiType:function(t){e(Aa.value("apiType",t))},setApiServer:function(t){e(Aa.value("apiServer",t))},setJwtSecret:function(t){e(Aa.value("jwtSecret",t))},setCalcType:function(t){e(Aa.value("calcType",t))},setSims:function(t){e(Aa.value("nSims",t))},setWorkers:function(t){e(Aa.value("workers",t))},setThreads:function(t){e(Aa.value("threads",t))},setCatsChart:function(t){e(Aa.value("catsChart",t))},setCatsTable:function(t){e(Aa.value("catsTable",t))},setPlayersChart:function(t){e(Aa.value("playersChart",t))},setPlayersTable:function(t){e(Aa.value("playersTable",t))},setCombosTable:function(t){e(Aa.value("combosTable",t))},setDenseKeyboard:function(t){e(Aa.value("denseKeyboard",t))},setPlayersButtons:function(t){e(Aa.value("playersButtons",t))},setDevMode:function(t){e(Aa.value("devMode",t))},setLatency:function(t){e(Aa.value("latency",t))}}})),Ma=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setApiType(e.value)},n.options=[],Object.keys(Sa).map((function(e){return n.options.push(Sa[e])})),n}return Object(D.a)(a,[{key:"render",value:function(){var e=Sa[this.props.apiType];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Zt.a,{value:e,onChange:this.handleChange,options:this.options}))}}]),a}(c.Component),Ra=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).changeApiServer=function(t){e.props.setApiServer(t.target.value)},e}return Object(D.a)(a,[{key:"render",value:function(){return i.a.createElement("span",{style:{width:150}},i.a.createElement("input",{style:{height:30,width:140,textAlign:"left"},type:"text",name:"ApiServer",title:"REST Server URL",value:this.props.apiServer,maxLength:64,onChange:this.changeApiServer.bind(this),placeholder:"REST Server URL ..."}))}}]),a}(c.Component),_a=a(105),Pa=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).changeJwtSecret=function(e){var t=_a.Base64.encode(e.target.value);n.props.setJwtSecret(t)},n.changeShowSecret=function(e){var t={showSecret:!n.state.showSecret};n.setState(t)},n.state={showSecret:!1},n}return Object(D.a)(a,[{key:"render",value:function(){var e=this.state.showSecret?"text":"password",t=_a.Base64.decode(this.props.jwtSecret);return i.a.createElement("span",{style:{width:150}},i.a.createElement("input",{style:{height:30,width:120,textAlign:"left"},type:e,name:"JwtSecret",title:"REST Server URL",value:t,maxLength:64,onChange:this.changeJwtSecret.bind(this),placeholder:""}),i.a.createElement("input",{type:"checkbox",name:"show",title:"Show Secret",checked:this.state.showSecret,onChange:this.changeShowSecret.bind(this)}))}}]),a}(c.Component),Fa={0:{value:0,label:"MAXCPUs"},1:{value:1,label:"1"},2:{value:2,label:"2"},4:{value:4,label:"4"},6:{value:6,label:"6"},8:{value:8,label:"8"},12:{value:12,label:"12"},16:{value:16,label:"16"},24:{value:24,label:"24"},32:{value:32,label:"32"}},Ba=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setThreads(e.value)},n.customStyles={option:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{textAlign:"right"})},control:function(e){return Object(z.a)({},e)},singleValue:function(e,t){return Object(z.a)({},e)}},n.options=[],Object.keys(Fa).map((function(e){return n.options.push(Fa[e])})),n}return Object(D.a)(a,[{key:"render",value:function(){var e=Fa[this.props.threads.toString()];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Zt.a,{styles:this.customStyles,value:e,onChange:this.handleChange,options:this.options}))}}]),a}(c.Component),Ia=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setCalcType(e.value)},n.options=[],Object.keys(xa).map((function(e){return n.options.push(xa[e])})),n}return Object(D.a)(a,[{key:"render",value:function(){var e=xa[this.props.calcType];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Zt.a,{value:e,onChange:this.handleChange,options:this.options}))}}]),a}(c.Component),Ha={1:{value:1,label:"1"},2:{value:2,label:"2"},4:{value:4,label:"4"},6:{value:6,label:"6"},8:{value:8,label:"8"},12:{value:12,label:"12"},16:{value:16,label:"16"},24:{value:24,label:"24"},32:{value:32,label:"32"}},Va=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setWorkers(e.value)},n.customStyles={option:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{textAlign:"right"})},control:function(e){return Object(z.a)({},e)},singleValue:function(e,t){return Object(z.a)({},e)}},n.options=[],Object.keys(Ha).map((function(e){return n.options.push(Ha[e])})),n}return Object(D.a)(a,[{key:"render",value:function(){var e=Ha[this.props.workers.toString()];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Zt.a,{styles:this.customStyles,value:e,onChange:this.handleChange,options:this.options}))}}]),a}(c.Component),Wa={100:{value:100,label:"100"},500:{value:500,label:"500"},1e3:{value:1e3,label:"1,000"},5e3:{value:5e3,label:"5,000"},1e4:{value:1e4,label:"10,000"},5e4:{value:5e4,label:"50,000"},1e5:{value:1e5,label:"100,000"},5e5:{value:5e5,label:"500,000"},1e6:{value:1e6,label:"1,000,000"},5e6:{value:5e6,label:"5,000,000"},1e7:{value:1e7,label:"10,000,000"},5e7:{value:5e7,label:"50,000,000"},1e8:{value:1e8,label:"100,000,000"}},La=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.setSims(e.value)},n.customStyles={option:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{textAlign:"right"})},control:function(e){return Object(z.a)({},e)},singleValue:function(e,t){return Object(z.a)({},e)}},n.options=[],Object.keys(Wa).map((function(e){return n.options.push(Wa[e])})),n}return Object(D.a)(a,[{key:"render",value:function(){var e=Wa[this.props.nSims.toString()];return i.a.createElement("span",{style:{width:150}},i.a.createElement(Zt.a,{styles:this.customStyles,value:e,onChange:this.handleChange,options:this.options}))}}]),a}(c.Component),Ja=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("a",{href:"?reset=true",title:"Reset application data",rel:"noopener noreferrer"},i.a.createElement("button",{className:Bt.a.button},i.a.createElement(f.a,{icon:"trash-restore"}))))}}]),a}(c.Component),Da=a(45),qa=a.n(Da),Ka=a(30),za=a.n(Ka),Ga=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"catsChartChange",value:function(e){this.props.setCatsChart(e)}},{key:"catsTableChange",value:function(e){this.props.setCatsTable(e)}},{key:"playersChartChange",value:function(e){this.props.setPlayersChart(e)}},{key:"playersTableChange",value:function(e){this.props.setPlayersTable(e)}},{key:"combosTableChange",value:function(e){this.props.setCombosTable(e)}},{key:"denseKeyboardChange",value:function(e){this.props.setDenseKeyboard(e)}},{key:"playersButtonsChange",value:function(e){this.props.setPlayersButtons(e)}},{key:"devModeChange",value:function(e){this.props.setDevMode(e)}},{key:"latencyChange",value:function(e){this.props.setLatency(e)}},{key:"render",value:function(){var e=this.props;return i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Players Chart:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.playersChartChange.bind(this),height:20,width:40,checked:e.playersChart}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Players Table:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.playersTableChange.bind(this),height:20,width:40,checked:e.playersTable}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Categories Chart:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.catsChartChange.bind(this),height:20,width:40,checked:e.catsChart}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Categories Table:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.catsTableChange.bind(this),height:20,width:40,checked:e.catsTable}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Combos Table:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.combosTableChange.bind(this),height:20,width:40,checked:e.combosTable}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Dense Keyboard:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.denseKeyboardChange.bind(this),height:20,width:40,checked:e.denseKeyboard}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Players Buttons:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.playersButtonsChange.bind(this),height:20,width:40,checked:e.playersButtons}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Dev Mode:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.devModeChange.bind(this),height:20,width:40,checked:e.devMode}))),i.a.createElement("tr",null,i.a.createElement("td",{className:za.a.right},"Show Latency:"),i.a.createElement("td",null,i.a.createElement(qa.a,{className:za.a.switch,onChange:this.latencyChange.bind(this),height:20,width:40,checked:e.latency})))))}}]),a}(c.Component);function Xa(){for(var e=["Edge","Firefox","Safari","Chrome","Opera"],t=navigator.userAgent,a=e.length-1;a>=0;a--){var n=e[a],r=t.indexOf(n);if(r>=0){var s=r+n.length,l=s;return"/"===t[s]&&(s++,(l=t.indexOf(" ",s))<0&&(l=t.length)),n+" "+t.substring(s,l)}}return"Unknown"}function Ua(){try{new Function("async () => {}")()}catch(e){return!1}return!0}var Qa=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).isMobileDevice=G(),n.browserFeatures=function(){var e={name:Xa(),language:navigator.language,platform:navigator.platform,hasAsync:Ua(),abortController:!!window.AbortController,webWorker:!!window.Worker,webAssembly:"object"===typeof WebAssembly};return e.isOutdatedBrowser=!(e.hasAsync&&e.abortController&&e.webWorker&&e.webAssembly),e}(),n}return Object(D.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.browserFeatures.isOutdatedBrowser?i.a.createElement("div",null,i.a.createElement(Ot,{style:{height:36},cat:"error"},i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}),"\xa0 Missing Critical Features \xa0",i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}),i.a.createElement("br",null),"Please Update Your Web Browser"),i.a.createElement("br",null),i.a.createElement("br",null)):null,i.a.createElement("table",{className:"minimalistBlack"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"center"},"Feature"),i.a.createElement("th",{className:"center"},"Value"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"name:"),i.a.createElement("td",{className:"center"},this.browserFeatures.name)),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"language:"),i.a.createElement("td",{className:"center"},this.browserFeatures.language)),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"platform:"),i.a.createElement("td",{className:"center"},this.browserFeatures.platform)),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"mobile:"),i.a.createElement("td",{className:"center"},this.isMobileDevice?"Yes":"No")),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"async/await:"),i.a.createElement("td",{className:"center"},this.browserFeatures.hasAsync?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"abort controller:"),i.a.createElement("td",{className:"center"},this.browserFeatures.abortController?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"web worker:"),i.a.createElement("td",{className:"center"},this.browserFeatures.webWorker?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))),i.a.createElement("tr",null,i.a.createElement("td",{className:"right"},"web assembly:"),i.a.createElement("td",{className:"center"},this.browserFeatures.webAssembly?i.a.createElement(f.a,{color:"green",icon:"check"}):i.a.createElement(f.a,{color:"red",icon:"exclamation-triangle"}))))))}}]),a}(c.Component),Ya=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"render",value:function(){var e=this.props;return i.a.createElement("div",null,i.a.createElement("h3",null,"Settings"),i.a.createElement("h4",null,i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Poser Engine:\xa0"),i.a.createElement("td",null,i.a.createElement(Ma,e))),"rest"===this.props.apiType?i.a.createElement(i.a.Fragment,null,i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Server URL:\xa0"),i.a.createElement("td",null,i.a.createElement(Ra,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"JWT Secret:\xa0"),i.a.createElement("td",null,i.a.createElement(Pa,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Server Threads:\xa0"),i.a.createElement("td",null,i.a.createElement(Ba,e)))):null,i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Calculator:\xa0"),i.a.createElement("td",null,i.a.createElement(Ia,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Simulations:\xa0"),i.a.createElement("td",null,i.a.createElement(La,e))),i.a.createElement("tr",null,i.a.createElement("td",{style:{textAlign:"right"}},"Workers:\xa0"),i.a.createElement("td",null,i.a.createElement(Va,e)))))),i.a.createElement("h3",null,"Options"),i.a.createElement("h4",null,i.a.createElement(Ga,e)),i.a.createElement("h3",null,"Browser Features"),i.a.createElement("h4",null,i.a.createElement(Qa,null)),i.a.createElement("h3",null,"Clear Saved Data"),i.a.createElement("h4",null,i.a.createElement(Ja,null)))}}]),a}(c.Component),Za=function(e){return i.a.createElement("div",null,i.a.createElement("h2",null,"Links"),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://poserjs.github.io",target:"_blank",rel:"noopener noreferrer"},"PoserJS Online")),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://github.com/poserjs/poserjs.github.io/wiki",target:"_blank",rel:"noopener noreferrer"},"PoserJS Wiki")),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://github.com/poserjs/poserjs.github.io",target:"_blank",rel:"noopener noreferrer"},"PoserJS Github")),i.a.createElement("h2",null,"Credits"),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://facebook.github.io/create-react-app/",target:"_blank",rel:"noopener noreferrer"},"Create React App")),i.a.createElement("h3",null,i.a.createElement("a",{href:"https://fontawesome.com",target:"_blank",rel:"noopener noreferrer"},"Font Awesome")))},$a=a(141),en=a.n($a),tn=(a(757),function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"render",value:function(){var e=this.props,t=e.state,a=e.action,n=e.repo,r=e.showRepo;return i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("h2",null,"State Inspector")),i.a.createElement("div",{className:"TimeMachinePage-body"},r?[i.a.createElement("h4",{key:1},"Repository"),i.a.createElement(en.a,{key:2,name:!1,src:n.toJS()})]:[i.a.createElement("h4",{key:1},"Action"),i.a.createElement(en.a,{key:2,name:!1,src:a}),i.a.createElement("h4",{key:3},"State"),i.a.createElement(en.a,{key:4,name:!1,src:t.toJS()})]))}}]),a}(c.Component)),an=Object(h.b)((function(e,t){var a=t.engine,n=a.currentBranchState(e),r=n.get("currentIndex"),s=n.get("states"),l=r<0?void 0:s.get(r),c=n.get("actions"),i=r<0?void 0:c.get(r),o=r<=0?void 0:s.get(r-1),u=e.getIn(["options","showRepo"]);return{prevState:a.printableState(o),state:a.printableState(l),action:i,repo:e,showRepo:u}}),(function(e,t){return{}}))(tn),nn=(a(758),function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={currentBranch:e.currentBranch,live:e.live,advanced:!1,showRepo:e.showRepo,saveAs:""},n}return Object(D.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentBranch:e.currentBranch,live:e.live,showRepo:e.showRepo})}},{key:"onSubmit",value:function(e){e.preventDefault()}},{key:"onChange",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"onChangeBranch",value:function(e){var t=this.props.switchBranch,a=e.target.value;this.setState({currentBranch:a}),t(a)}},{key:"onSaveBranch",value:function(e){var t=this.props.saveBranch;this.state.saveAs&&t(this.state.saveAs),this.setState({saveAs:""})}},{key:"onReset",value:function(e){var t=this.props,a=t.currentBranch;(0,t.resetBranch)(a)}},{key:"onRemove",value:function(e){var t=this.props,a=t.currentBranch;(0,t.removeBranch)(a)}},{key:"onGoFastForward",value:function(e){(0,this.props.goForward)(10)}},{key:"onGoForward",value:function(e){(0,this.props.goForward)(1)}},{key:"onGoBack",value:function(e){(0,this.props.goBack)(1)}},{key:"onGoFastBack",value:function(e){(0,this.props.goBack)(10)}},{key:"onGoLive",value:function(e){(0,this.props.goLive)()}},{key:"toggleLive",value:function(e){var t=this.props,a=t.goBack,n=t.goLive,r=!this.state.live;this.setState({live:r}),r?n():a(0)}},{key:"toggleAdvanced",value:function(e){var t=!this.state.advanced;this.setState({advanced:t})}},{key:"toggleRepo",value:function(e){var t=this.props.doShowRepo,a=!this.state.showRepo;this.setState({showRepo:a}),t(a)}},{key:"onSliderChange",value:function(e){var t=this.props,a=t.goForward,n=t.goBack,r=t.currentIndex,s=e-1;s>r?a(s-r):s<r&&n(r-s)}},{key:"render",value:function(){var e=this.props,t=e.branches,a=e.currentIndex,n=e.maxIndex;return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},i.a.createElement("button",{onClick:this.toggleLive.bind(this),title:this.state.live?"Time Machine On":"Time Machine Off"},this.state.live?i.a.createElement(f.a,{icon:"history"}):i.a.createElement(f.a,{icon:"play"})),i.a.createElement("button",{onClick:this.toggleAdvanced.bind(this),title:this.state.advanced?"Advanced Mode Off":"Advanced Mode On"},this.state.advanced?i.a.createElement("b",null,"\u2630"):i.a.createElement("span",null,"\u2630")),"\xa0",this.state.advanced?[i.a.createElement("button",{key:1,onClick:this.toggleRepo.bind(this),title:this.state.showRepo?"Show State":"Show Repo"},this.state.showRepo?i.a.createElement(f.a,{key:2,icon:"genderless"}):i.a.createElement(f.a,{key:2,icon:"code-branch"})),i.a.createElement("select",{key:3,name:"currentBranch",value:this.state.currentBranch,onChange:this.onChangeBranch.bind(this),title:"Change Branch"},t.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)})).toIndexedSeq())]:null,i.a.createElement("button",{onClick:this.onGoBack.bind(this),title:"Go Back"},"<"),"\xa0",a+1," / ",n+1,"\xa0",i.a.createElement("button",{onClick:this.onGoForward.bind(this),title:"Go Forward"},">"),this.state.advanced?i.a.createElement("span",null,i.a.createElement("input",{name:"saveAs",size:"8",value:this.state.saveAs,onChange:this.onChange.bind(this)}),i.a.createElement("button",{onClick:this.onSaveBranch.bind(this),title:"Save Branch",disabled:!this.state.saveAs},"Save"),i.a.createElement("button",{onClick:this.onReset.bind(this),title:"Reset Branch"},"Reset"),i.a.createElement("button",{onClick:this.onRemove.bind(this),title:"Remove Branch"},"Remove")):null),this.state.live?null:i.a.createElement("div",{className:"TimeMachineControls-slider"},i.a.createElement(ga.a,{min:1,max:n+1,value:a+1,step:1,onChange:this.onSliderChange.bind(this)})))}}]),a}(c.Component)),rn=Object(h.b)((function(e,t){var a=e.get("currentBranch"),n=e.get("branches"),r=n.get(a),s=r.get("live"),l=e.getIn(["options","showRepo"]),c=r.get("currentIndex"),i=r.get("states").size-1;return{branches:n.keySeq(),currentBranch:a,currentIndex:c,maxIndex:i,live:s,showRepo:l}}),(function(e,t){var a=t.engine.actionFactory();return{goForward:function(t){var n=a.goForward(t);e(n)},goBack:function(t){var n=a.goBack(t);e(n)},goLive:function(){var t=a.goLive();e(t)},doShowRepo:function(t){var n=a.setOption("showRepo",t);e(n)},switchBranch:function(t){var n=a.switchBranch(t);e(n)},saveBranch:function(t){var n=a.saveBranch(t);e(n)},resetBranch:function(t){var n=a.resetBranch(t);e(n)},removeBranch:function(t){if("master"!==t){var n=a.switchBranch("master");e(n);var r=a.removeBranch(t);e(r)}}}}))(nn),sn=(a(759),a(760),vt(la)),ln=va(Ca),cn=Na(Ya),on=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={selectedTabIndex:n.props.state.get("selectedTabIndex")},n}return Object(D.a)(a,[{key:"updateTabIndex",value:function(e){this.setState({selectedTabIndex:e}),this.props.updateTabIndex(e)}},{key:"render",value:function(){var e=this.props.state.getIn(["home","settings","devMode"]);return i.a.createElement(ee.d,{selectedTabClassName:"react-tabs__tab--selected Menu-selected",selectedIndex:this.state.selectedTabIndex,onSelect:this.updateTabIndex.bind(this)},i.a.createElement(ee.b,{className:"Menu"},i.a.createElement(ee.a,{title:"Hands"},i.a.createElement(f.a,{icon:"calculator"})),i.a.createElement(ee.a,{title:"Zone"},i.a.createElement(f.a,{icon:"dice-d20"})),i.a.createElement(ee.a,{title:"War"},i.a.createElement(f.a,{icon:"gamepad"})),i.a.createElement(ee.a,{title:"Settings"},i.a.createElement(f.a,{icon:"cog"})),i.a.createElement(ee.a,{title:"Links & Credits"},i.a.createElement(f.a,{icon:"info"})),e?i.a.createElement(ee.a,{title:"State Inspector"},i.a.createElement(f.a,{icon:"bug"})):null),i.a.createElement("hr",null),i.a.createElement(ee.c,null,i.a.createElement(sn,null)),i.a.createElement(ee.c,null,i.a.createElement(sn,{zone:!0})),i.a.createElement(ee.c,null,i.a.createElement(ln,null)),i.a.createElement(ee.c,null,i.a.createElement(cn,null)),i.a.createElement(ee.c,null,i.a.createElement(Za,null)),e?i.a.createElement(ee.c,null,i.a.createElement(rn,{engine:this.props.engine}),i.a.createElement(an,{engine:this.props.engine})):null)}}]),a}(c.Component),un=a(8),hn=a(2),dn=a(346);un.b.add(hn.cb),un.b.add(hn.v),un.b.add(dn.a),un.b.add(hn.w),un.b.add(hn.n),un.b.add(hn.T),un.b.add(hn.y),un.b.add(hn.R),un.b.add(hn.g),un.b.add(hn.Q),un.b.add(hn.z),un.b.add(hn.B),un.b.add(hn.Y),un.b.add(hn.G),un.b.add(hn.C),un.b.add(hn.u),un.b.add(hn.h),un.b.add(hn.b),un.b.add(hn.f),un.b.add(hn.E),un.b.add(hn.M),un.b.add(hn.Z),un.b.add(hn.ab),un.b.add(hn.bb),un.b.add(hn.H),un.b.add(hn.l),un.b.add(hn.p),un.b.add(hn.O),un.b.add(hn.V),un.b.add(hn.U),un.b.add(hn.W),un.b.add(hn.o),un.b.add(hn.J),un.b.add(hn.K),un.b.add(hn.L),un.b.add(hn.a),un.b.add(hn.F),un.b.add(hn.N),un.b.add(hn.m),un.b.add(hn.I),un.b.add(hn.S),un.b.add(hn.t),un.b.add(hn.s),un.b.add(hn.e),un.b.add(hn.x),un.b.add(hn.i),un.b.add(hn.q),un.b.add(hn.P),un.b.add(hn.A),un.b.add(hn.c),un.b.add(hn.D),un.b.add(hn.j),un.b.add(hn.r),un.b.add(hn.d),un.b.add(hn.X),un.b.add(hn.k);a(761);var mn,pn=function(e){Object(q.a)(a,e);var t=Object(K.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"App-header"},i.a.createElement($,null)),i.a.createElement(on,this.props))}}]),a}(c.Component),bn=B.actionFactory();mn=function(e,t){e?(V(bn.value("zoneActions",e)),V(bn.value("zoneDistTables",zt(e)))):console.log(t)},fetch("/json/zone.json").then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){return mn(e,null)})).catch((function(e){return mn(null,e)}));var fn=Object(h.b)((function(e,t){return a=t.engine.head(e),n=t.engine.live(e),{state:a,live:n};var a,n}),(function(e,t){return{updateTabIndex:function(t){return e(bn.value("selectedTabIndex",t))}}}))(pn),vn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function gn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}u.a.render(i.a.createElement(h.a,{store:H},i.a.createElement(fn,{engine:B})),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");vn?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):gn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):gn(t,e)}))}}()},79:function(e,t,a){},88:function(e,t,a){e.exports={chart:"EvalPlayersChart_chart__Gs8Wq"}},92:function(e,t,a){e.exports={square:"Card_square__eAkJW",htmlSquare:"Card_htmlSquare__2vwOq",htmlSquareMobile:"Card_htmlSquareMobile__RrZb0",ball:"Card_ball__5lM5L",htmlBall:"Card_htmlBall__31wpT"}}},[[374,1,2]]]);
//# sourceMappingURL=main.1272cffa.chunk.js.map